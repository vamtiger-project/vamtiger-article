{"version":3,"file":"vamtiger-article.js","sources":["../node_modules/vamtiger-browser-method/source/types.ts","../node_modules/vamtiger-browser-method/source/define-custom-element.ts","../node_modules/vamtiger-cover-figure/node_modules/vamtiger-browser-method/source/types.ts","../node_modules/vamtiger-cover-figure/node_modules/vamtiger-browser-method/source/get-meta-element.ts","../node_modules/vamtiger-cover-figure/node_modules/vamtiger-browser-method/source/get-camel-case.ts","../node_modules/vamtiger-cover-figure/node_modules/vamtiger-browser-method/source/load-element-query-css.ts","../node_modules/vamtiger-cover-figure/node_modules/vamtiger-browser-method/source/load-script.ts","../node_modules/vamtiger-cover-figure/source/types.ts","../node_modules/vamtiger-cover-figure/source/config.ts","../node_modules/vamtiger-cover-figure/source/css/document-index.ts","../node_modules/vamtiger-cover-figure/source/get-template.ts","../node_modules/vamtiger-cover-figure/source/html/index.ts","../node_modules/vamtiger-cover-figure/source/handle-loaded-image.ts","../node_modules/vamtiger-cover-figure/source/load-image.ts","../node_modules/vamtiger-cover-figure/source/load-image-caption.ts","../node_modules/vamtiger-cover-figure/source/element.ts","../node_modules/vamtiger-social-media-button/node_modules/vamtiger-browser-method/source/types.ts","../node_modules/vamtiger-social-media-button/node_modules/vamtiger-browser-method/source/get-meta-element.ts","../node_modules/vamtiger-social-media-button/node_modules/vamtiger-browser-method/source/get-camel-case.ts","../node_modules/vamtiger-social-media-button/node_modules/vamtiger-browser-method/source/load-element-query-css.ts","../node_modules/vamtiger-social-media-button/node_modules/vamtiger-browser-method/source/load-script.ts","../node_modules/vamtiger-social-media-button/source/types.ts","../node_modules/vamtiger-social-media-button/source/config.ts","../node_modules/vamtiger-social-media-button/source/css/document-index.ts","../node_modules/vamtiger-social-media-button/source/html/index.ts","../node_modules/vamtiger-social-media-button/source/get-template.ts","../node_modules/vamtiger-social-media-button/source/handle-color-changed.ts","../node_modules/vamtiger-social-media-button/source/handle-attribute-changed.ts","../node_modules/vamtiger-social-media-button/source/element.ts","../node_modules/vamtiger-social-media-icon/node_modules/vamtiger-browser-method/source/types.ts","../node_modules/vamtiger-social-media-icon/node_modules/vamtiger-browser-method/source/get-meta-element.ts","../node_modules/vamtiger-social-media-icon/node_modules/vamtiger-browser-method/source/get-camel-case.ts","../node_modules/vamtiger-social-media-icon/node_modules/vamtiger-browser-method/source/load-element-query-css.ts","../node_modules/vamtiger-social-media-icon/node_modules/vamtiger-browser-method/source/load-script.ts","../node_modules/vamtiger-social-media-icon/source/types.ts","../node_modules/vamtiger-social-media-icon/source/css/document-index.ts","../node_modules/vamtiger-social-media-icon/source/html/index.ts","../node_modules/vamtiger-social-media-icon/source/get-template.ts","../node_modules/vamtiger-social-media-icon/source/config.ts","../node_modules/vamtiger-social-media-icon/source/element.ts","../node_modules/vamtiger-browser-method/source/get-meta-element.ts","../node_modules/vamtiger-browser-method/source/get-camel-case.ts","../node_modules/vamtiger-browser-method/source/load-element-query-css.ts","../node_modules/vamtiger-browser-method/source/load-script.ts","../source/types.ts","../source/config.ts","../source/css/document-index.ts","../source/html/index.ts","../source/get-template.ts","../node_modules/vamtiger-browser-method/source/get-element-from-template.ts","../node_modules/vamtiger-browser-method/source/get-element-from-url.ts","../node_modules/vamtiger-browser-method/source/get-element.ts","../source/handle-article-scroll.ts","../source/setup-article.ts","../source/load-article.ts","../source/handle-close.ts","../source/element.ts","../source/load-custom-property-style.ts","../source/vamtiger-article.ts","../node_modules/vamtiger-social-media-icon/source/load-icon.ts","../node_modules/vamtiger-social-media-button/source/load-icon.ts"],"sourcesContent":["import * as tslib from '../node_modules/tslib/tslib';\nimport defineCustomElement from './define-custom-element';\n\nexport enum ScriptType {\n    jsonld = 'application/ld+json'\n}\n\nexport enum ScriptAttribute {\n    type = 'type'\n}\n\nexport enum DataAttribute {\n    vamtigerElementQuery = 'vamtigerLoadElementQueryCss',\n    elementQueryCssLoaded = 'elementQueryCssLoaded'\n}\n\nexport enum ErrorMessage {\n    failedToLoadScript = 'Failed to load script',\n    windowPropertyNotSet = 'Window property not set',\n    unsupportedFeature = 'Unsupported feature',\n    customElementAreadyDefined = 'Custom element already defined',\n    noElementName = 'No Element Name',\n    noTemplateUrl = 'No Template URL',\n    noElementSelector = 'No Template Selector',\n    noTemplateForUrl = 'No Template for URL',\n    noTemplate = 'No Template',\n    noElementForSelector = 'No Element for Selector'\n}\n\nexport enum StringConstant {\n    nothing = '',\n    slash = '/',\n    dash = '-'\n}\n\nexport enum TagName {\n    div = 'div'\n}\n\nexport enum LinkRel {\n    stylesheet = 'stylesheet'\n}\n\nexport enum LoadScriptElement {\n    script = 'script',\n    link = 'link',\n    style = 'style'\n}\n\nexport enum Selector {\n    lastStylesheet = 'style:last-of-type',\n    lastMetaElement = 'head > meta:last-of-type',\n    webcomponentsjs = 'script[src*=\"@webcomponents\\/webcomponentsjs\"]'\n}\n\nexport enum  MetaElementName {\n    loadElementQueryCss = 'vamtiger-load-element-query-css'\n}\n\nexport interface ILoadRemoteScriptParams {\n    src: string;\n}\n\nexport interface ILoadRemoteStylesheetScriptParams {\n    href: string;\n}\n\nexport interface ILoadLocalScriptParams {\n    name: string;\n    removeFromDom?: boolean;\n}\n\nexport interface ILoadScriptParams {\n    js: string;\n    jsonld?: boolean;\n}\n\nexport interface ILoadStylesheetScriptParams {\n    css: string;\n}\n\nexport interface ILoadScript {\n    params: LocalScriptParams\n        | LocalStylesheetScriptParams\n        | ILoadRemoteScriptParams\n        | ILoadRemoteStylesheetScriptParams;\n    reject: (error: Error) => void\n}\n\nexport interface ILoadShadowStylesheet {\n    css: string;\n    element: HTMLElement;\n}\n\nexport interface IDefineCustomElement {\n    name: string;\n    constructor: {\n        new (): HTMLElement\n        prototype: HTMLElement;\n    };\n    ignore?: boolean;\n}\n\nexport interface IPause {\n    milliseconds: number;\n}\n\nexport interface IGetElementBase {\n    name: string;\n}\n\nexport interface IGetElementTemplate extends IGetElementBase {\n    template: string;\n}\n\nexport interface IGetElementUrl extends IGetElementBase {\n    url: string;\n    selector:  string;\n}\n\nexport interface IAnyObject {\n    [key: string]: any;\n}\n\nexport interface ILoadElementQueryCss {\n    css: string;\n    stylesheetName?: string;\n    hostName?: string;\n}\n\nexport interface IGetMetaElement {\n    selector?: string;\n    properties?: {\n        id?: string;\n    };\n    attributes?: {\n        [key: string]: string;\n    };\n    dataset?: DOMStringMap;\n}\n\nexport type TsLibType = typeof tslib;\n\nexport type TsLibKey = keyof TsLibType;\n\nexport type TsLib = {\n    [K in TsLibKey]: TsLibType[K]\n}\n\nexport type LocalScriptParams = ILoadLocalScriptParams & ILoadScriptParams;\n\nexport type LocalStylesheetScriptParams = ILoadLocalScriptParams & ILoadStylesheetScriptParams;\n\nexport type LoadScriptParams = LocalScriptParams\n    | LocalStylesheetScriptParams\n    | ILoadRemoteScriptParams\n    | ILoadRemoteStylesheetScriptParams;\n\nexport type LoadScriptsParams = LoadScriptParams[];\n\nexport type LoadScriptsSequentiallyParams = LoadScriptsParams[];\n\nexport type LoadedScript<P extends ILoadScript['params']> =\n    P extends ILoadScriptParams ? HTMLScriptElement :\n    P extends ILoadStylesheetScriptParams ? HTMLStyleElement :\n    P extends ILoadRemoteScriptParams ? HTMLScriptElement :\n    P extends ILoadRemoteStylesheetScriptParams ? HTMLLinkElement :\n    never;\n\nexport type LoadedScripts<P extends LoadScriptsParams> =\n    P extends ILoadScriptParams[] ? HTMLScriptElement[] :\n    P extends ILoadStylesheetScriptParams[] ? HTMLStyleElement[] :\n    P extends ILoadRemoteScriptParams[] ? HTMLScriptElement[] :\n    P extends ILoadRemoteStylesheetScriptParams[] ? HTMLLinkElement[] :\n    never;\n\nexport type LoadedScriptsSequentially<P extends LoadScriptsSequentiallyParams> =\n    P extends ILoadScriptParams[][] ? HTMLScriptElement[] :\n    P extends ILoadStylesheetScriptParams[][] ? HTMLStyleElement[] :\n    P extends ILoadRemoteScriptParams[][] ? HTMLScriptElement[] :\n    P extends ILoadRemoteStylesheetScriptParams[][] ? HTMLLinkElement[] :\n    never;\n\nexport type GetElementParams = IGetElementTemplate | IGetElementUrl;\n\ndeclare global {\n    interface Window extends TsLib {\n        VamtigerBrowserMethod: {\n            loadScript: <P extends ILoadScript['params']>(params: P) => Promise<LoadedScript<P>>;\n            loadScripts: <P extends LoadScriptsParams>(params: P) => Promise<LoadedScripts<P>>;\n            loadScriptsSequentially: <P extends LoadScriptsSequentiallyParams>(params: P) => Promise<LoadedScriptsSequentially<P>>;\n            loadShadowStylesheet: (params: ILoadShadowStylesheet) => void;\n            defineCustomElement: (params: IDefineCustomElement) => void;\n            getElement: (params: GetElementParams) => Promise<HTMLElement>;\n            pause: (params: IPause) => Promise<{}>;\n        }\n        EQCSS: IAnyObject;\n    }\n\n    namespace NodeJS {\n        interface  Global {\n            VamtigerBrowserMethod: Window['VamtigerBrowserMethod'];\n        }\n    }\n}\n\nexport const regex = {\n    showRootHost: /:{1,2}host/gm,\n    dash: new RegExp(StringConstant.dash, 'g'),\n    space: /\\s/g,\n    nonWord: /\\W+/g\n}","import { IDefineCustomElement, ErrorMessage } from './types';\n\nconst { unsupportedFeature, customElementAreadyDefined } = ErrorMessage;\n\nexport default function defineCustomElement({ name, constructor, ignore }: IDefineCustomElement) {\n    const { customElements } = window;\n    const define = customElements && customElements.define;\n    const existingElement = define && customElements.get && customElements.get(name);\n\n    if (define && !existingElement) {\n        customElements.define(name, constructor);\n    } else if (existingElement) {\n        throw new Error(`${customElementAreadyDefined}: ${name}`);\n    } else if (!ignore) {\n        defineCustomElement({ name, constructor, ignore: true });\n    } else {\n        throw new Error(`${unsupportedFeature}: Custom Elements - ${name}`);\n    }\n}","import * as tslib from '../node_modules/tslib/tslib';\nimport defineCustomElement from './define-custom-element';\n\nexport enum ScriptType {\n    jsonld = 'application/ld+json'\n}\n\nexport enum ScriptAttribute {\n    type = 'type'\n}\n\nexport enum DataAttribute {\n    vamtigerElementQuery = 'vamtigerLoadElementQueryCss',\n    elementQueryCssLoaded = 'elementQueryCssLoaded'\n}\n\nexport enum ErrorMessage {\n    failedToLoadScript = 'Failed to load script',\n    windowPropertyNotSet = 'Window property not set',\n    unsupportedFeature = 'Unsupported feature',\n    customElementAreadyDefined = 'Custom element already defined',\n    noElementName = 'No Element Name',\n    noTemplateUrl = 'No Template URL',\n    noElementSelector = 'No Template Selector',\n    noTemplateForUrl = 'No Template for URL',\n    noTemplate = 'No Template',\n    noElementForSelector = 'No Element for Selector'\n}\n\nexport enum StringConstant {\n    nothing = '',\n    slash = '/',\n    dash = '-'\n}\n\nexport enum TagName {\n    div = 'div'\n}\n\nexport enum LinkRel {\n    stylesheet = 'stylesheet'\n}\n\nexport enum LoadScriptElement {\n    script = 'script',\n    link = 'link',\n    style = 'style'\n}\n\nexport enum Selector {\n    lastStylesheet = 'style:last-of-type',\n    lastMetaElement = 'head > meta:last-of-type',\n    webcomponentsjs = 'script[src*=\"@webcomponents\\/webcomponentsjs\"]'\n}\n\nexport enum  MetaElementName {\n    loadElementQueryCss = 'vamtiger-load-element-query-css'\n}\n\nexport interface ILoadRemoteScriptParams {\n    src: string;\n}\n\nexport interface ILoadRemoteStylesheetScriptParams {\n    href: string;\n}\n\nexport interface ILoadLocalScriptParams {\n    name: string;\n    removeFromDom?: boolean;\n}\n\nexport interface ILoadScriptParams {\n    js: string;\n    jsonld?: boolean;\n}\n\nexport interface ILoadStylesheetScriptParams {\n    css: string;\n}\n\nexport interface ILoadScript {\n    params: LocalScriptParams\n        | LocalStylesheetScriptParams\n        | ILoadRemoteScriptParams\n        | ILoadRemoteStylesheetScriptParams;\n    reject: (error: Error) => void\n}\n\nexport interface ILoadShadowStylesheet {\n    css: string;\n    element: HTMLElement;\n}\n\nexport interface IDefineCustomElement {\n    name: string;\n    constructor: {\n        new (): HTMLElement\n        prototype: HTMLElement;\n    };\n    ignore?: boolean;\n}\n\nexport interface IPause {\n    milliseconds: number;\n}\n\nexport interface IGetElementBase {\n    name: string;\n}\n\nexport interface IGetElementTemplate extends IGetElementBase {\n    template: string;\n}\n\nexport interface IGetElementUrl extends IGetElementBase {\n    url: string;\n    selector:  string;\n}\n\nexport interface IAnyObject {\n    [key: string]: any;\n}\n\nexport interface ILoadElementQueryCss {\n    css: string;\n    stylesheetName?: string;\n    hostName?: string;\n}\n\nexport interface IGetMetaElement {\n    selector?: string;\n    properties?: {\n        id?: string;\n    };\n    attributes?: {\n        [key: string]: string;\n    };\n    dataset?: DOMStringMap;\n}\n\nexport type TsLibType = typeof tslib;\n\nexport type TsLibKey = keyof TsLibType;\n\nexport type TsLib = {\n    [K in TsLibKey]: TsLibType[K]\n}\n\nexport type LocalScriptParams = ILoadLocalScriptParams & ILoadScriptParams;\n\nexport type LocalStylesheetScriptParams = ILoadLocalScriptParams & ILoadStylesheetScriptParams;\n\nexport type LoadScriptParams = LocalScriptParams\n    | LocalStylesheetScriptParams\n    | ILoadRemoteScriptParams\n    | ILoadRemoteStylesheetScriptParams;\n\nexport type LoadScriptsParams = LoadScriptParams[];\n\nexport type LoadScriptsSequentiallyParams = LoadScriptsParams[];\n\nexport type LoadedScript<P extends ILoadScript['params']> =\n    P extends ILoadScriptParams ? HTMLScriptElement :\n    P extends ILoadStylesheetScriptParams ? HTMLStyleElement :\n    P extends ILoadRemoteScriptParams ? HTMLScriptElement :\n    P extends ILoadRemoteStylesheetScriptParams ? HTMLLinkElement :\n    never;\n\nexport type LoadedScripts<P extends LoadScriptsParams> =\n    P extends ILoadScriptParams[] ? HTMLScriptElement[] :\n    P extends ILoadStylesheetScriptParams[] ? HTMLStyleElement[] :\n    P extends ILoadRemoteScriptParams[] ? HTMLScriptElement[] :\n    P extends ILoadRemoteStylesheetScriptParams[] ? HTMLLinkElement[] :\n    never;\n\nexport type LoadedScriptsSequentially<P extends LoadScriptsSequentiallyParams> =\n    P extends ILoadScriptParams[][] ? HTMLScriptElement[] :\n    P extends ILoadStylesheetScriptParams[][] ? HTMLStyleElement[] :\n    P extends ILoadRemoteScriptParams[][] ? HTMLScriptElement[] :\n    P extends ILoadRemoteStylesheetScriptParams[][] ? HTMLLinkElement[] :\n    never;\n\nexport type GetElementParams = IGetElementTemplate | IGetElementUrl;\n\ndeclare global {\n    interface Window extends TsLib {\n        VamtigerBrowserMethod: {\n            loadScript: <P extends ILoadScript['params']>(params: P) => Promise<LoadedScript<P>>;\n            loadScripts: <P extends LoadScriptsParams>(params: P) => Promise<LoadedScripts<P>>;\n            loadScriptsSequentially: <P extends LoadScriptsSequentiallyParams>(params: P) => Promise<LoadedScriptsSequentially<P>>;\n            loadShadowStylesheet: (params: ILoadShadowStylesheet) => void;\n            defineCustomElement: (params: IDefineCustomElement) => void;\n            getElement: (params: GetElementParams) => Promise<HTMLElement>;\n            pause: (params: IPause) => Promise<{}>;\n        }\n        EQCSS: IAnyObject;\n    }\n\n    namespace NodeJS {\n        interface  Global {\n            VamtigerBrowserMethod: Window['VamtigerBrowserMethod'];\n        }\n    }\n}\n\nexport const regex = {\n    showRootHost: /:{1,2}host/gm,\n    dash: new RegExp(StringConstant.dash, 'g'),\n    space: /\\s/g,\n    nonWord: /\\W+/g\n}","import {\n    IGetMetaElement,\n    StringConstant,\n    Selector\n} from './types';\n\nconst { nothing } = StringConstant;\n\nexport default function ({ selector = nothing, properties = {}, dataset = {}, attributes = {}}: IGetMetaElement) {\n    const { id } = properties;\n    const { head } = document;\n    const lastMetaElement = head.querySelector<HTMLMetaElement>(Selector.lastMetaElement);\n    const attributeKeys = Object.keys(attributes);\n    const existingMetaElement = id && ((window as any)[id]\n        || selector && head.querySelector(selector)) as HTMLMetaElement;\n    const newMetaElment = !existingMetaElement && document.createElement('meta');\n    const metaElement = (existingMetaElement || newMetaElment) as HTMLMetaElement;\n\n    let dataKey: string;\n\n    if (newMetaElment) {\n        Object.assign(newMetaElment, properties);\n        Object.assign(newMetaElment.dataset, dataset);\n\n        if (lastMetaElement && lastMetaElement.nextElementSibling) {\n            head.insertBefore(\n                newMetaElment,\n                lastMetaElement.nextElementSibling\n            );\n        } else {\n            head.appendChild(newMetaElment);\n        }\n    }\n\n    attributeKeys.forEach(key => !metaElement.hasAttribute(key) && metaElement.setAttribute(dataKey, attributes[key]));\n\n    return metaElement;\n}","import {\n    regex,\n    StringConstant\n} from './types';\n\nconst { nothing } = StringConstant;\nconst { nonWord } = regex;\n\nexport default (input: string) => input\n    .split(nonWord)\n    .map((word, index) => !index && word.toLowerCase() || word.slice(0, 1).toUpperCase() + word.slice(1).toLowerCase())\n    .join(nothing);","import {\n    ILoadElementQueryCss,\n    MetaElementName,\n    StringConstant,\n    regex\n} from './types';\nimport getMetaElment from './get-meta-element';\nimport getCamelCase from './get-camel-case';\n\nconst { showRootHost } = regex;\nconst { nothing } = StringConstant;\n\nexport default function({ css, stylesheetName: currentStylesheetName = nothing, hostName = nothing }: ILoadElementQueryCss) {\n    const metaElement = getMetaElment({\n        properties: {\n            id: MetaElementName.loadElementQueryCss\n        }\n    });\n    const stylesheetName = getCamelCase(currentStylesheetName);\n    const { dataset } = metaElement;\n    const elementQueryCss = !dataset.hasOwnProperty(hostName) && (hostName && css.replace(showRootHost, hostName)) || css;\n    const { EQCSS } = window;\n\n    if (elementQueryCss && EQCSS) {\n        EQCSS.register(EQCSS.parse(elementQueryCss));\n\n        if (stylesheetName) {\n            dataset[stylesheetName] = nothing;\n        } else if (hostName) {\n            dataset[hostName] = nothing;\n        }\n    }\n}","import {\n    ILoadScript,\n    ErrorMessage,\n    LocalScriptParams,\n    LocalStylesheetScriptParams,\n    ILoadRemoteStylesheetScriptParams,\n    ILoadRemoteScriptParams,\n    LoadScriptElement,\n    LoadedScript,\n    LinkRel,\n    ScriptAttribute,\n    ScriptType\n} from './types';\nimport loadElementQueryCss from './load-element-query-css';\n\nconst { failedToLoadScript } = ErrorMessage;\nconst { stylesheet } = LinkRel;\nconst { script: scriptElement, link, style } = LoadScriptElement;\n\nexport default <P extends ILoadScript['params']>(params: P) => new Promise((resolve: (script: LoadedScript<P>) => void, reject: ILoadScript['reject']) => {\n    const { head, body } = document;\n    const { js, name: scriptName, jsonld, removeFromDom } = params as LocalScriptParams;\n    const { src } = params as ILoadRemoteScriptParams;\n    const { css, name: stylesheetName } = params as LocalStylesheetScriptParams;\n    const { href } = params as ILoadRemoteStylesheetScriptParams;\n    const remoteScript = params.hasOwnProperty('src') || params.hasOwnProperty('href');\n    const element = (js || src) && scriptElement\n        || css && style\n        || href && link;\n    const selector = src && `script[src=\"${src}\"]`\n        || href && `link[href=\"${href}\"]`\n        || js && scriptName && `script[data-name=\"${scriptName}\"]`\n        || css && stylesheetName && `style[data-name=\"${stylesheetName}\"]`;\n    const existingScript = (head.querySelector(selector) || body.querySelector(selector)) as LoadedScript<P>;\n    const script = selector\n        && element\n        && document.createElement(element) as LoadedScript<P>;\n\n    if (script instanceof HTMLScriptElement) {\n        if (src) {\n            script.src = src;\n        } else if (js) {\n            script.innerHTML = js;\n            script.dataset.name = scriptName;\n\n            if (jsonld) {\n                script.setAttribute(ScriptAttribute.type, ScriptType.jsonld);\n            }\n        }\n    } else if (script instanceof HTMLLinkElement) {\n        script.rel = stylesheet;\n        script.href = href;\n    } else if (script instanceof HTMLStyleElement) {\n        script.innerHTML = css;\n        script.dataset.name = stylesheetName;\n\n        loadElementQueryCss({\n            css,\n            stylesheetName\n        });\n    }\n\n    if (existingScript) {\n        resolve(existingScript);\n    } else if (script) {\n        script.addEventListener('load', handleLoad);\n        script.addEventListener('error', handleLoadError);\n\n        head.appendChild(script);\n\n        if (!remoteScript) {\n            handleLoad();\n        }\n    }\n\n    function handleLoad() {\n        if (script) {\n            removeEventListeners();\n\n            if (removeFromDom) {\n                head.removeChild(script);\n            }\n\n            resolve(script);\n        }\n    }\n\n    function handleLoadError(event: Event) {\n        removeEventListeners();\n\n        console.error(event);\n\n        reject(new Error(`${failedToLoadScript}`));\n    }\n\n    function removeEventListeners() {\n        if (script) {\n            script.removeEventListener('load', handleLoad);\n            script.removeEventListener('error', handleLoadError);\n        }\n    }\n});\n","import VamtigerCoverFigure from './element';\n\nexport enum StringConstant {\n    nothing = ''\n}\n\nexport enum DataAttribute {\n    captionImage = 'captionImage',\n    imageCaptionIcon = 'imageCaptionIcon',\n    imageCaptionTitle = 'imageCaptionTitle',\n    imageCaptionSubtitle = 'imageCaptionSubtitle'\n}\n\nexport enum Selector {\n    style = 'style',\n    slot = 'slot',\n    image = 'img',\n    overlay = 'div',\n    figure = 'figure',\n    imageCaption = '[data-image-caption]',\n    icon = '[data-icon]',\n    title = '[data-title]',\n    subtitle = '[data-subtitle]',\n    centerCaption = '[data-center-caption]'\n}\n\nexport enum DataAttribute {\n    image = 'image',\n    description = 'description',\n    loaded = 'loaded',\n    overlay = 'overlay'\n}\n\nexport enum SlotName {\n    darkOverlay = 'dark-overlay',\n    template = 'template',\n    caption = 'caption',\n    centerCaption = 'center-caption'\n}\n\nexport enum ObservedAttributes {\n\n}\n\nexport interface IGetTemplate {\n    selector: Selector;\n    attributes?: IAttributes;\n    properties?: IProperties;\n}\n\nexport interface IAttributes {\n    id?: string;\n    for?: string;\n    slot?: string;\n    'data-image-figure'?: string;\n}\n\nexport interface IProperties {\n    name?: string;\n    src?: string;\n    alt?: string;\n    innerHTML?: string;\n}\n\nexport interface ILoadImage {\n    element: VamtigerCoverFigure;\n}\n\nexport interface ILoadImageCaption {\n    element: VamtigerCoverFigure;\n}\n\nexport interface IDataset extends DOMStringMap {\n    image: string;\n    description?: string;\n    loaded?: '';\n    overlay?: SlotName;\n    imageCaptionIcon?: string;\n    imageCaptionTitle?: string;\n    imageCaptionSubtitle?: string;\n    centerCaption?: string;\n}\n\nexport interface IHandleLoadedImage {\n    element?: HTMLElement;\n}\n\nexport type AttributesKey = keyof IAttributes;\n\nexport type ObservedAttribute = keyof typeof ObservedAttributes;\n\nexport type GetTemplate<P extends IGetTemplate> =\n    P['selector'] extends Selector.style ? HTMLStyleElement :\n    P['selector'] extends Selector.slot ? HTMLSlotElement :\n    P['selector'] extends Selector.image ? HTMLImageElement :\n    P['selector'] extends Selector.overlay ? HTMLDivElement :\n    P['selector'] extends Selector.figure\n        | Selector.imageCaption\n        | Selector.centerCaption ? HTMLElement :\n    null;\n\nexport const imageCaptionAttribute = [\n    DataAttribute.imageCaptionIcon,\n    DataAttribute.imageCaptionTitle,\n    DataAttribute.imageCaptionSubtitle\n];","import {\n    ObservedAttributes,\n    ObservedAttribute\n} from './types'\n\nexport const shadowRoot = {\n    mode: 'open'\n} as ShadowRootInit;\n\nexport const observedAttributes = Object.keys(ObservedAttributes) as ObservedAttribute[];","export default `vamtiger-cover-figure,vamtiger-cover-figure figcaption,vamtiger-cover-figure figure,vamtiger-cover-figure h5,vamtiger-cover-figure header{margin:0;padding:0}vamtiger-cover-figure [data-overlay],vamtiger-cover-figure [slot=caption],vamtiger-cover-figure [slot=caption] [data-icon-figure],vamtiger-cover-figure [slot=vamtiger-cover-figure]{position:relative}vamtiger-cover-figure[data-center-caption-uppercase][data-center-caption-hashtag] [slot=center-caption] [data-caption-text]:before,vamtiger-cover-figure [slot=center-caption] [data-caption-text],vamtiger-cover-figure figcaption,vamtiger-cover-figure figure{display:inline-block}vamtiger-cover-figure,vamtiger-cover-figure [slot=caption][data-caption-image]{-webkit-animation:b 0ms linear forwards;animation:b 0ms linear forwards}vamtiger-cover-figure[data-loaded],vamtiger-cover-figure [slot=caption][data-caption-image][data-loaded]{-webkit-animation:a 275ms linear forwards;animation:a 275ms linear forwards}vamtiger-cover-figure [data-overlay],vamtiger-cover-figure [slot=center-caption],vamtiger-cover-figure [slot=template],vamtiger-cover-figure [slot=vamtiger-cover-figure]{grid-column:1;grid-row:1}vamtiger-cover-figure [data-overlay],vamtiger-cover-figure [slot=template],vamtiger-cover-figure [slot=vamtiger-cover-figure],vamtiger-cover-figure [slot=vamtiger-cover-figure]>img{width:100%;height:100%}vamtiger-cover-figure [slot=caption] [data-icon],vamtiger-cover-figure [slot=vamtiger-cover-figure]>img{width:100%;max-height:100%}vamtiger-cover-figure [slot=vamtiger-cover-figure]>img{display:inline-block;-o-object-fit:cover;object-fit:cover;z-index:0}vamtiger-cover-figure [data-overlay]{z-index:1}vamtiger-cover-figure [slot=template]{z-index:2}vamtiger-cover-figure [slot=caption]{z-index:3;position:absolute;left:0;bottom:0;display:grid;grid-template-areas:\"a b\" \"a c\";grid-column-gap:.5em;grid-row-gap:.2em;padding:0 0 10px 10px;color:#fff;letter-spacing:.04em}vamtiger-cover-figure [slot=center-caption]{z-index:4;display:grid;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:#fff;font-size:2em}vamtiger-cover-figure[data-center-caption-uppercase] [slot=center-caption]{text-transform:uppercase}vamtiger-cover-figure[data-center-caption-uppercase][data-center-caption-hashtag] [slot=center-caption] [data-caption-text]:before{content:\"#\"}vamtiger-cover-figure [slot=caption] [data-icon-figure]{grid-area:a;display:grid}vamtiger-cover-figure [slot=caption] [data-icon]{height:45px;width:45px}vamtiger-cover-figure [slot=caption] [data-title]{grid-area:b;font-size:1.1em}vamtiger-cover-figure [slot=caption] [data-subtitle]{grid-area:c;font-size:.8em}vamtiger-cover-figure [slot=caption] [data-subtitle],vamtiger-cover-figure [slot=caption] [data-title],vamtiger-cover-figure [slot=center-caption]{text-shadow:2px 2px 2px #000}vamtiger-cover-figure[data-loaded] [slot=dark-overlay]:first-of-type{background:-webkit-gradient(linear,left top,left bottom,color-stop(5%,rgba(0,0,0,.7)),color-stop(40%,rgba(0,0,0,.3)),color-stop(60%,transparent),to(transparent));background:linear-gradient(180deg,rgba(0,0,0,.7) 5%,rgba(0,0,0,.3) 40%,transparent 60%,transparent)}vamtiger-cover-figure[data-loaded] [slot=dark-overlay]:last-of-type{background:-webkit-gradient(linear,left top,left bottom,color-stop(5%,transparent),color-stop(40%,transparent),color-stop(60%,rgba(0,0,0,.3)),to(rgba(0,0,0,.7)));background:linear-gradient(180deg,transparent 5%,transparent 40%,rgba(0,0,0,.3) 60%,rgba(0,0,0,.7))}vamtiger-cover-figure [data-overlay]:first-of-type{-webkit-animation:a 275ms linear forwards,e 275ms forwards;animation:a 275ms linear forwards,e 275ms forwards}vamtiger-cover-figure [data-overlay]:last-of-type{-webkit-animation:a 275ms linear forwards,f 275ms forwards;animation:a 275ms linear forwards,f 275ms forwards}vamtiger-cover-figure[data-hide-overlay] [data-overlay]:first-of-type{-webkit-animation:b 275ms linear forwards,c 275ms forwards;animation:b 275ms linear forwards,c 275ms forwards}vamtiger-cover-figure[data-hide-overlay] [data-overlay]:last-of-type{-webkit-animation:b 275ms linear forwards,d 275ms forwards;animation:b 275ms linear forwards,d 275ms forwards}@element vamtiger-cover-figure and (max-width:500px){:self [slot=caption]{padding-left:5px;letter-spacing:.02em}:self [slot=caption] [data-subtitle],:self [slot=caption] [data-title-header]{position:relative;left:-5px}:self [slot=caption] [data-title]{font-size:.9em}:self [slot=caption] [data-subtitle]{font-size:.6em}:self [slot=center-caption]{font-size:1.3em}}@element vamtiger-cover-figure and (max-height:300px){:self [slot=caption]{padding-left:5px;letter-spacing:.02em}:self [slot=caption] [data-subtitle],:self [slot=caption] [data-title-header]{position:relative;left:-5px}:self [slot=caption] [data-title]{font-size:.9em}:self [slot=caption] [data-subtitle]{font-size:.6em}}@-webkit-keyframes a{0%{opacity:0}to{opacity:1}}@keyframes a{0%{opacity:0}to{opacity:1}}@-webkit-keyframes b{0%{opacity:1}to{opacity:0}}@keyframes b{0%{opacity:1}to{opacity:0}}@-webkit-keyframes c{0%{top:0}to{top:-5em}}@keyframes c{0%{top:0}to{top:-5em}}@-webkit-keyframes d{0%{top:0}to{top:5em}}@keyframes d{0%{top:0}to{top:5em}}@-webkit-keyframes e{0%{top:-5em}to{top:0}}@keyframes e{0%{top:-5em}to{top:0}}@-webkit-keyframes f{0%{top:5em}to{top:0}}@keyframes f{0%{top:5em}to{top:0}}\n/*# sourceMappingURL=document-index.ts.map */`;","import {\n    IGetTemplate,\n    GetTemplate,\n    StringConstant,\n    AttributesKey\n} from './types';\nimport html from './html';\nimport css from './css';\n\nconst { nothing } = StringConstant;\nconst template = document.createElement('template');\nconst stylesheet = `<style>${css}</style>`\nconst templateHtml = [\n    stylesheet,\n    html\n].join(nothing);\n\ntemplate.innerHTML = templateHtml;\n\nexport default <P extends IGetTemplate>(params: P) => {\n    const {\n        selector,\n        attributes = {},\n        properties = {}\n    } = params;\n    const attributesKeys = Object.keys(attributes) as AttributesKey[]\n    const templateElement = template.content.querySelector(selector);\n    const currentTemplate = templateElement && templateElement.cloneNode(true) as GetTemplate<P>;\n\n    if (currentTemplate) {\n        Object.assign(currentTemplate, properties);\n\n        attributesKeys.forEach(key => attributes[key] && currentTemplate.setAttribute(key, attributes[key] || ''));\n    }\n\n    return currentTemplate;\n};","export default '<slot></slot><img><figure data-image-figure></figure><figcaption data-image-caption><figure data-icon-figure><img data-icon></figure><header data-title-header><h5 data-title></h5></header><span data-subtitle></span></figcaption><figcaption data-center-caption></figcaption><div></div>';","import {\n    StringConstant,\n    IDataset,\n    IHandleLoadedImage\n} from './types';\nimport VamtigerCoverFigure, { name } from './element';\n\nconst { nothing } = StringConstant;\n\nexport default function handleLoadedImage({ currentTarget, element: currentElement }: Event & IHandleLoadedImage) {\n    const image = currentTarget as HTMLElement;\n    const element = currentElement || image.closest(name) as VamtigerCoverFigure;\n    const dataset = element.dataset as IDataset;\n\n    image.removeEventListener('loaded', handleLoadedImage);\n\n    dataset.loaded = nothing;\n}","import {\n    ILoadImage,\n    Selector,\n    IDataset,\n    StringConstant\n} from './types';\nimport { name } from './element';\nimport getTemplate from './get-template';\nimport handleLoaded from './handle-loaded-image';\n\nconst { nothing } = StringConstant;\n\nexport default async function ({ element }: ILoadImage) {\n    const dataset = element.dataset as IDataset;\n    const {\n        image: src,\n        description,\n        overlay: overlayPrefix,\n        imageCaptionTitle,\n        imageCaptionSubtitle\n    } = dataset;\n    const alt = imageCaptionTitle && imageCaptionSubtitle && `${imageCaptionTitle}: imageCaptionSubtitle`\n        || imageCaptionTitle\n        || description\n        || nothing;\n    const image = src && getTemplate({\n        selector: Selector.image,\n        properties: {\n            src,\n            alt\n        }\n    });\n    const imageFigure = image && getTemplate({\n        selector: Selector.figure,\n        attributes: {\n            slot: name\n        }\n    })\n    const overlays = overlayPrefix && [\n        getTemplate({\n            selector: Selector.overlay,\n            attributes: {\n                slot: `${overlayPrefix}-overlay`\n            }\n        }),\n        getTemplate({\n            selector: Selector.overlay,\n            attributes: {\n                slot: `${overlayPrefix}-overlay`\n            }\n        })\n    ];\n\n    if (image && imageFigure) {\n        image.addEventListener('load', handleLoaded);\n\n        imageFigure.appendChild(image);\n\n        element.appendChild(imageFigure);\n    }\n\n    overlays && overlays.forEach(overlay => {\n        if (overlay) {\n            overlay.dataset.overlay = nothing;\n\n            element.appendChild(overlay);\n        }\n    });\n}","import {\n    ILoadImageCaption,\n    IDataset,\n    DataAttribute,\n    Selector,\n    StringConstant,\n    SlotName,\n    imageCaptionAttribute\n} from './types';\nimport getTemplate from './get-template';\nimport handleLoadedImage from './handle-loaded-image';\n\n\nconst { nothing } = StringConstant;\n\nexport default async function ({ element }: ILoadImageCaption) {\n    const dataset = element.dataset as IDataset;\n    const {\n        imageCaptionIcon,\n        imageCaptionTitle,\n        imageCaptionSubtitle,\n        centerCaption: currentCenterCaption = nothing\n    } = dataset;\n    const getCaption = imageCaptionAttribute.some(attribute => dataset.hasOwnProperty(attribute));\n    const getCenterCaption = currentCenterCaption ? true : false;\n    const alt = imageCaptionTitle && imageCaptionSubtitle && `${imageCaptionTitle}: imageCaptionSubtitle`\n        || imageCaptionTitle\n        || nothing;\n    const caption = getCaption && getTemplate({\n        selector: Selector.imageCaption,\n        attributes: {\n            slot: SlotName.caption\n        }\n    });\n    const centerCaption = getCenterCaption && getTemplate({\n        selector: Selector.centerCaption,\n        properties: {\n            innerHTML: `<span data-caption-text>${currentCenterCaption}</span>`\n        },\n        attributes: {\n            slot: SlotName.centerCaption\n        }\n    })\n    const icon = caption && caption.querySelector<HTMLImageElement>(Selector.icon);\n    const title = caption && caption.querySelector<HTMLHeadingElement>(Selector.title);\n    const subtitle = caption && caption.querySelector<HTMLSpanElement>(Selector.subtitle);\n    const captions = [\n        {\n            element: title,\n            innerHTML: imageCaptionTitle\n        },\n        {\n            element: subtitle,\n            innerHTML: imageCaptionSubtitle\n        }\n    ];\n\n    if (icon) {\n        if (imageCaptionIcon) {\n            if (caption) {\n                icon.addEventListener('load', event => handleLoadedImage(Object.assign(\n                    event,\n                    {\n                        element: caption\n                    }\n                )));\n\n                caption.dataset[DataAttribute.captionImage] = nothing;\n            }\n\n            icon.src = imageCaptionIcon;\n        }\n\n        if (alt) {\n            icon.alt = alt;\n        }\n    }\n\n    captions.forEach(({element, innerHTML}) => element && innerHTML && Object.assign(element, { innerHTML }));\n\n    caption && element.appendChild(caption);\n\n    centerCaption && element.appendChild(centerCaption);\n}","import loadScript from '../node_modules/vamtiger-browser-method/source/load-script';\nimport {\n    Selector,\n    ObservedAttribute,\n    SlotName\n} from './types';\nimport {\n    shadowRoot as shadowRootConfig,\n    observedAttributes\n} from './config';\nimport css from './css/document-index';\nimport getTemplate from './get-template';\nimport loadImage from './load-image';\nimport loadImageCaption from './load-image-caption'\n\nexport const name = 'vamtiger-cover-figure';\n\ncss && loadScript({ name, css })\n    .catch(console.error);\n\nexport default class VamtigerCoverFigure extends HTMLElement {\n    constructor() {\n        super();\n\n        const { dataset } = this;\n        const {\n            overlay: overlaySlotNamePrefix,\n            template\n        } = dataset;\n        const shadowRoot = this.attachShadow(shadowRootConfig);\n        const stylesheet = getTemplate({\n            selector: Selector.style\n        });\n        const slot = getTemplate({\n            selector: Selector.slot,\n            properties: {\n                name\n            }\n        });\n        const overlaySlot = overlaySlotNamePrefix && getTemplate({\n            selector: Selector.slot,\n            properties: {\n                name: `${overlaySlotNamePrefix}-overlay`\n            }\n        });\n        const templateSlot = template && getTemplate({\n            selector: Selector.slot,\n            properties: {\n                name: SlotName.template\n            }\n        });\n        const captionSlot = getTemplate({\n            selector: Selector.slot,\n            properties: {\n                name: SlotName.caption\n            }\n        });\n        const centerCaptionSlot = getTemplate({\n            selector: Selector.slot,\n            properties: {\n                name: SlotName.centerCaption\n            }\n        });\n        const elements = [\n            stylesheet,\n            slot,\n            overlaySlot,\n            templateSlot,\n            captionSlot,\n            centerCaptionSlot\n        ];\n\n        elements.forEach(element => element && shadowRoot.appendChild(element));\n    }\n\n    static get observedAttributes() {\n        return observedAttributes;\n    }\n\n    async connectedCallback() {\n        const element = this;\n\n        await loadImage({ element });\n\n        await loadImageCaption({ element });\n    }\n\n    attributeChangedCallback(name: ObservedAttribute, oldValue: string, newValue: string) {\n\n    }\n}","import * as tslib from '../node_modules/tslib/tslib';\nimport defineCustomElement from './define-custom-element';\n\nexport enum ScriptType {\n    jsonld = 'application/ld+json'\n}\n\nexport enum ScriptAttribute {\n    type = 'type'\n}\n\nexport enum DataAttribute {\n    vamtigerElementQuery = 'vamtigerLoadElementQueryCss',\n    elementQueryCssLoaded = 'elementQueryCssLoaded'\n}\n\nexport enum ErrorMessage {\n    failedToLoadScript = 'Failed to load script',\n    windowPropertyNotSet = 'Window property not set',\n    unsupportedFeature = 'Unsupported feature',\n    customElementAreadyDefined = 'Custom element already defined',\n    noElementName = 'No Element Name',\n    noTemplateUrl = 'No Template URL',\n    noElementSelector = 'No Template Selector',\n    noTemplateForUrl = 'No Template for URL',\n    noTemplate = 'No Template',\n    noElementForSelector = 'No Element for Selector'\n}\n\nexport enum StringConstant {\n    nothing = '',\n    slash = '/',\n    dash = '-'\n}\n\nexport enum TagName {\n    div = 'div'\n}\n\nexport enum LinkRel {\n    stylesheet = 'stylesheet'\n}\n\nexport enum LoadScriptElement {\n    script = 'script',\n    link = 'link',\n    style = 'style'\n}\n\nexport enum Selector {\n    lastStylesheet = 'style:last-of-type',\n    lastMetaElement = 'head > meta:last-of-type',\n    webcomponentsjs = 'script[src*=\"@webcomponents\\/webcomponentsjs\"]'\n}\n\nexport enum  MetaElementName {\n    loadElementQueryCss = 'vamtiger-load-element-query-css'\n}\n\nexport interface ILoadRemoteScriptParams {\n    src: string;\n}\n\nexport interface ILoadRemoteStylesheetScriptParams {\n    href: string;\n}\n\nexport interface ILoadLocalScriptParams {\n    name: string;\n    removeFromDom?: boolean;\n}\n\nexport interface ILoadScriptParams {\n    js: string;\n    jsonld?: boolean;\n}\n\nexport interface ILoadStylesheetScriptParams {\n    css: string;\n}\n\nexport interface ILoadScript {\n    params: LocalScriptParams\n        | LocalStylesheetScriptParams\n        | ILoadRemoteScriptParams\n        | ILoadRemoteStylesheetScriptParams;\n    reject: (error: Error) => void\n}\n\nexport interface ILoadShadowStylesheet {\n    css: string;\n    element: HTMLElement;\n}\n\nexport interface IDefineCustomElement {\n    name: string;\n    constructor: {\n        new (): HTMLElement\n        prototype: HTMLElement;\n    };\n    ignore?: boolean;\n}\n\nexport interface IPause {\n    milliseconds: number;\n}\n\nexport interface IGetElementBase {\n    name: string;\n}\n\nexport interface IGetElementTemplate extends IGetElementBase {\n    template: string;\n}\n\nexport interface IGetElementUrl extends IGetElementBase {\n    url: string;\n    selector:  string;\n}\n\nexport interface IAnyObject {\n    [key: string]: any;\n}\n\nexport interface ILoadElementQueryCss {\n    css: string;\n    stylesheetName?: string;\n    hostName?: string;\n}\n\nexport interface IGetMetaElement {\n    selector?: string;\n    properties?: {\n        id?: string;\n    };\n    attributes?: {\n        [key: string]: string;\n    };\n    dataset?: DOMStringMap;\n}\n\nexport type TsLibType = typeof tslib;\n\nexport type TsLibKey = keyof TsLibType;\n\nexport type TsLib = {\n    [K in TsLibKey]: TsLibType[K]\n}\n\nexport type LocalScriptParams = ILoadLocalScriptParams & ILoadScriptParams;\n\nexport type LocalStylesheetScriptParams = ILoadLocalScriptParams & ILoadStylesheetScriptParams;\n\nexport type LoadScriptParams = LocalScriptParams\n    | LocalStylesheetScriptParams\n    | ILoadRemoteScriptParams\n    | ILoadRemoteStylesheetScriptParams;\n\nexport type LoadScriptsParams = LoadScriptParams[];\n\nexport type LoadScriptsSequentiallyParams = LoadScriptsParams[];\n\nexport type LoadedScript<P extends ILoadScript['params']> =\n    P extends ILoadScriptParams ? HTMLScriptElement :\n    P extends ILoadStylesheetScriptParams ? HTMLStyleElement :\n    P extends ILoadRemoteScriptParams ? HTMLScriptElement :\n    P extends ILoadRemoteStylesheetScriptParams ? HTMLLinkElement :\n    never;\n\nexport type LoadedScripts<P extends LoadScriptsParams> =\n    P extends ILoadScriptParams[] ? HTMLScriptElement[] :\n    P extends ILoadStylesheetScriptParams[] ? HTMLStyleElement[] :\n    P extends ILoadRemoteScriptParams[] ? HTMLScriptElement[] :\n    P extends ILoadRemoteStylesheetScriptParams[] ? HTMLLinkElement[] :\n    never;\n\nexport type LoadedScriptsSequentially<P extends LoadScriptsSequentiallyParams> =\n    P extends ILoadScriptParams[][] ? HTMLScriptElement[] :\n    P extends ILoadStylesheetScriptParams[][] ? HTMLStyleElement[] :\n    P extends ILoadRemoteScriptParams[][] ? HTMLScriptElement[] :\n    P extends ILoadRemoteStylesheetScriptParams[][] ? HTMLLinkElement[] :\n    never;\n\nexport type GetElementParams = IGetElementTemplate | IGetElementUrl;\n\ndeclare global {\n    interface Window extends TsLib {\n        VamtigerBrowserMethod: {\n            loadScript: <P extends ILoadScript['params']>(params: P) => Promise<LoadedScript<P>>;\n            loadScripts: <P extends LoadScriptsParams>(params: P) => Promise<LoadedScripts<P>>;\n            loadScriptsSequentially: <P extends LoadScriptsSequentiallyParams>(params: P) => Promise<LoadedScriptsSequentially<P>>;\n            loadShadowStylesheet: (params: ILoadShadowStylesheet) => void;\n            defineCustomElement: (params: IDefineCustomElement) => void;\n            getElement: (params: GetElementParams) => Promise<HTMLElement>;\n            pause: (params: IPause) => Promise<{}>;\n        }\n        EQCSS: IAnyObject;\n    }\n\n    namespace NodeJS {\n        interface  Global {\n            VamtigerBrowserMethod: Window['VamtigerBrowserMethod'];\n        }\n    }\n}\n\nexport const regex = {\n    showRootHost: /:{1,2}host/gm,\n    dash: new RegExp(StringConstant.dash, 'g'),\n    space: /\\s/g,\n    nonWord: /\\W+/g\n}","import {\n    IGetMetaElement,\n    StringConstant,\n    Selector\n} from './types';\n\nconst { nothing } = StringConstant;\n\nexport default function ({ selector = nothing, properties = {}, dataset = {}, attributes = {}}: IGetMetaElement) {\n    const { id } = properties;\n    const { head } = document;\n    const lastMetaElement = head.querySelector<HTMLMetaElement>(Selector.lastMetaElement);\n    const attributeKeys = Object.keys(attributes);\n    const existingMetaElement = id && ((window as any)[id]\n        || selector && head.querySelector(selector)) as HTMLMetaElement;\n    const newMetaElment = !existingMetaElement && document.createElement('meta');\n    const metaElement = (existingMetaElement || newMetaElment) as HTMLMetaElement;\n\n    let dataKey: string;\n\n    if (newMetaElment) {\n        Object.assign(newMetaElment, properties);\n        Object.assign(newMetaElment.dataset, dataset);\n\n        if (lastMetaElement && lastMetaElement.nextElementSibling) {\n            head.insertBefore(\n                newMetaElment,\n                lastMetaElement.nextElementSibling\n            );\n        } else {\n            head.appendChild(newMetaElment);\n        }\n    }\n\n    attributeKeys.forEach(key => !metaElement.hasAttribute(key) && metaElement.setAttribute(dataKey, attributes[key]));\n\n    return metaElement;\n}","import {\n    regex,\n    StringConstant\n} from './types';\n\nconst { nothing } = StringConstant;\nconst { nonWord } = regex;\n\nexport default (input: string) => input\n    .split(nonWord)\n    .map((word, index) => !index && word.toLowerCase() || word.slice(0, 1).toUpperCase() + word.slice(1).toLowerCase())\n    .join(nothing);","import {\n    ILoadElementQueryCss,\n    MetaElementName,\n    StringConstant,\n    regex\n} from './types';\nimport getMetaElment from './get-meta-element';\nimport getCamelCase from './get-camel-case';\n\nconst { showRootHost } = regex;\nconst { nothing } = StringConstant;\n\nexport default function({ css, stylesheetName: currentStylesheetName = nothing, hostName = nothing }: ILoadElementQueryCss) {\n    const metaElement = getMetaElment({\n        properties: {\n            id: MetaElementName.loadElementQueryCss\n        }\n    });\n    const stylesheetName = getCamelCase(currentStylesheetName);\n    const { dataset } = metaElement;\n    const elementQueryCss = !dataset.hasOwnProperty(hostName) && (hostName && css.replace(showRootHost, hostName)) || css;\n    const { EQCSS } = window;\n\n    if (elementQueryCss && EQCSS) {\n        EQCSS.register(EQCSS.parse(elementQueryCss));\n\n        if (stylesheetName) {\n            dataset[stylesheetName] = nothing;\n        } else if (hostName) {\n            dataset[hostName] = nothing;\n        }\n    }\n}","import {\n    ILoadScript,\n    ErrorMessage,\n    LocalScriptParams,\n    LocalStylesheetScriptParams,\n    ILoadRemoteStylesheetScriptParams,\n    ILoadRemoteScriptParams,\n    LoadScriptElement,\n    LoadedScript,\n    LinkRel,\n    ScriptAttribute,\n    ScriptType\n} from './types';\nimport loadElementQueryCss from './load-element-query-css';\n\nconst { failedToLoadScript } = ErrorMessage;\nconst { stylesheet } = LinkRel;\nconst { script: scriptElement, link, style } = LoadScriptElement;\n\nexport default <P extends ILoadScript['params']>(params: P) => new Promise((resolve: (script: LoadedScript<P>) => void, reject: ILoadScript['reject']) => {\n    const { head, body } = document;\n    const { js, name: scriptName, jsonld, removeFromDom } = params as LocalScriptParams;\n    const { src } = params as ILoadRemoteScriptParams;\n    const { css, name: stylesheetName } = params as LocalStylesheetScriptParams;\n    const { href } = params as ILoadRemoteStylesheetScriptParams;\n    const remoteScript = params.hasOwnProperty('src') || params.hasOwnProperty('href');\n    const element = (js || src) && scriptElement\n        || css && style\n        || href && link;\n    const selector = src && `script[src=\"${src}\"]`\n        || href && `link[href=\"${href}\"]`\n        || js && scriptName && `script[data-name=\"${scriptName}\"]`\n        || css && stylesheetName && `style[data-name=\"${stylesheetName}\"]`;\n    const existingScript = (head.querySelector(selector) || body.querySelector(selector)) as LoadedScript<P>;\n    const script = selector\n        && element\n        && document.createElement(element) as LoadedScript<P>;\n\n    if (script instanceof HTMLScriptElement) {\n        if (src) {\n            script.src = src;\n        } else if (js) {\n            script.innerHTML = js;\n            script.dataset.name = scriptName;\n\n            if (jsonld) {\n                script.setAttribute(ScriptAttribute.type, ScriptType.jsonld);\n            }\n        }\n    } else if (script instanceof HTMLLinkElement) {\n        script.rel = stylesheet;\n        script.href = href;\n    } else if (script instanceof HTMLStyleElement) {\n        script.innerHTML = css;\n        script.dataset.name = stylesheetName;\n\n        loadElementQueryCss({\n            css,\n            stylesheetName\n        });\n    }\n\n    if (existingScript) {\n        resolve(existingScript);\n    } else if (script) {\n        script.addEventListener('load', handleLoad);\n        script.addEventListener('error', handleLoadError);\n\n        head.appendChild(script);\n\n        if (!remoteScript) {\n            handleLoad();\n        }\n    }\n\n    function handleLoad() {\n        if (script) {\n            removeEventListeners();\n\n            if (removeFromDom) {\n                head.removeChild(script);\n            }\n\n            resolve(script);\n        }\n    }\n\n    function handleLoadError(event: Event) {\n        removeEventListeners();\n\n        console.error(event);\n\n        reject(new Error(`${failedToLoadScript}`));\n    }\n\n    function removeEventListeners() {\n        if (script) {\n            script.removeEventListener('load', handleLoad);\n            script.removeEventListener('error', handleLoadError);\n        }\n    }\n});\n","import VamtigerSocialMediaIcon from '../node_modules/vamtiger-social-media-icon/source/element';\nimport VamtigerSocialMediaButton from './element';\n\nexport enum StringConstant {\n    nothing = '',\n    newline = '\\n',\n    comma = ','\n}\n\nexport enum Selector {\n    style = 'style',\n    slot = 'slot',\n    figure = 'figure',\n    figcaption = 'figcaption',\n    facebookIcon = 'vamtiger-social-media-icon[data-facebook]',\n    twitterIcon = 'vamtiger-social-media-icon[data-twitter]',\n    instagramIcon = 'vamtiger-social-media-icon[data-instagram]',\n    facebookSvg = 'svg[data-facebook-svg]',\n    twitterSvg = 'svg[data-twitter-svg]',\n    instagramSvg = 'svg[data-instagram-svg]',\n    facebookSvgPath = 'svg[data-facebook-svg] > path',\n    twitterSvgPath = 'svg[data-twitter-svg] > path',\n    instagramSvgPath = 'svg[data-instagram-svg] > path'\n}\n\nexport enum ObservedAttributes {\n    'data-color' = 'data-color'\n}\n\nexport enum SocialMediaIcon {\n    facebook = 'facebook',\n    twitter = 'twitter',\n    instagram = 'instagram'\n}\n\nexport interface IGetTemplate {\n    selector: Selector;\n    attributes?: IAttributes;\n    properties?: IProperties;\n}\n\nexport interface IAttributes {\n    id?: string;\n    for?: string;\n    name?: string;\n    slot?: string;\n    color?: string;\n}\n\nexport interface IProperties {\n    innerHTML?: string;\n}\n\nexport interface IDataset extends DOMStringMap {\n    twitter: SocialMediaIcon;\n    color?: string;\n}\n\nexport interface IHandleAttributeChanged {\n    name: ObservedAttribute,\n    oldValue: string;\n    newValue: string;\n    element: VamtigerSocialMediaButton;\n}\n\nexport interface ILoadIcon {\n    element: VamtigerSocialMediaButton\n}\n\nexport type AttributesKey = keyof IAttributes;\n\nexport type ObservedAttribute = keyof typeof ObservedAttributes;\n\nexport type HandleAttributeChanged = {\n    [K in ObservedAttribute]: (params: IHandleAttributeChanged) => void;\n}\n\nexport type GetTemplate<P extends IGetTemplate> =\n    P['selector'] extends Selector.style ? HTMLStyleElement :\n    P['selector'] extends Selector.slot ? HTMLSlotElement :\n    P['selector'] extends\n        Selector.figure\n        | Selector.figcaption\n            ? HTMLElement :\n    P['selector'] extends\n        Selector.twitterIcon\n        | Selector.facebookIcon\n        | Selector.instagramIcon ? VamtigerSocialMediaIcon :\n    P['selector'] extends\n        Selector.facebookSvg\n        | Selector.twitterSvg\n        | Selector.instagramSvg\n            ? SVGElement :\n    null;","import {\n    ObservedAttributes,\n    ObservedAttribute\n} from './types'\n\nexport const shadowRoot = {\n    mode: 'open'\n} as ShadowRootInit;\n\nexport const observedAttributes = Object.keys(ObservedAttributes) as ObservedAttribute[];","export default `vamtiger-social-media-button{border-radius:100%;padding:.75em;-webkit-box-sizing:border-box;box-sizing:border-box;background-color:#fff;-webkit-box-shadow:2px 2px 1px rgba(0,0,0,.2);box-shadow:2px 2px 1px rgba(0,0,0,.2)}vamtiger-social-media-button vamtiger-social-media-icon{width:100%;height:100%}\n/*# sourceMappingURL=document-index.ts.map */`;","export default `<svg x=\"0px\" y=\"0px\" viewBox=\"0 0 10.6 20.4\" xml:space=\"preserve\" data-facebook-svg > <path d=\"M3.1,20.4v-9.3H0V7.5h3.1V4.8C3.1,1.7,5,0,7.8,0c1.3,0,2.5,0.1,2.8,0.1v3.2l-1.9,0c-1.5,0-1.8,0.7-1.8,1.8v2.3h3.6L10,11.1H6.9v9.3H3.1z\" /> </svg> <style></style> <slot></slot> <figure></figure> <figcaption></figcaption> <vamtiger-social-media-icon data-twitter></vamtiger-social-media-icon> <vamtiger-social-media-icon data-facebook></vamtiger-social-media-icon> <vamtiger-social-media-icon data-instagram></vamtiger-social-media-icon> <svg x=\"0px\" y=\"0px\" viewBox=\"0 0 54 54\" xml:space=\"preserve\" data-instagram-svg > <g> <path d=\"M48.1,26.3c0,4.3,0,7.2-0.1,8.8c-0.2,3.9-1.3,6.9-3.5,9s-5.1,3.3-9,3.5c-1.6,0.1-4.6,0.1-8.8,0.1c-4.3,0-7.2,0-8.8-0.1 c-3.9-0.2-6.9-1.3-9-3.5c-2.1-2.1-3.3-5.1-3.5-9c-0.1-1.6-0.1-4.6-0.1-8.8s0-7.2,0.1-8.8c0.2-3.9,1.3-6.9,3.5-9 c2.1-2.1,5.1-3.3,9-3.5c1.6-0.1,4.6-0.1,8.8-0.1c4.3,0,7.2,0,8.8,0.1c3.9,0.2,6.9,1.3,9,3.5s3.3,5.1,3.5,9 C48,19.1,48.1,22,48.1,26.3z M28.8,8.7c-1.3,0-2,0-2.1,0c-0.1,0-0.8,0-2.1,0c-1.3,0-2.3,0-2.9,0c-0.7,0-1.6,0-2.7,0.1 c-1.1,0-2.1,0.1-2.9,0.3c-0.8,0.1-1.5,0.3-2,0.5c-0.9,0.4-1.7,0.9-2.5,1.6c-0.7,0.7-1.2,1.5-1.6,2.5c-0.2,0.5-0.4,1.2-0.5,2 s-0.2,1.7-0.3,2.9c0,1.1-0.1,2-0.1,2.7c0,0.7,0,1.7,0,2.9c0,1.3,0,2,0,2.1s0,0.8,0,2.1c0,1.3,0,2.3,0,2.9c0,0.7,0,1.6,0.1,2.7 c0,1.1,0.1,2.1,0.3,2.9s0.3,1.5,0.5,2c0.4,0.9,0.9,1.7,1.6,2.5c0.7,0.7,1.5,1.2,2.5,1.6c0.5,0.2,1.2,0.4,2,0.5 c0.8,0.1,1.7,0.2,2.9,0.3s2,0.1,2.7,0.1c0.7,0,1.7,0,2.9,0c1.3,0,2,0,2.1,0c0.1,0,0.8,0,2.1,0c1.3,0,2.3,0,2.9,0 c0.7,0,1.6,0,2.7-0.1c1.1,0,2.1-0.1,2.9-0.3c0.8-0.1,1.5-0.3,2-0.5c0.9-0.4,1.7-0.9,2.5-1.6c0.7-0.7,1.2-1.5,1.6-2.5 c0.2-0.5,0.4-1.2,0.5-2c0.1-0.8,0.2-1.7,0.3-2.9c0-1.1,0.1-2,0.1-2.7c0-0.7,0-1.7,0-2.9c0-1.3,0-2,0-2.1s0-0.8,0-2.1 c0-1.3,0-2.3,0-2.9c0-0.7,0-1.6-0.1-2.7c0-1.1-0.1-2.1-0.3-2.9c-0.1-0.8-0.3-1.5-0.5-2c-0.4-0.9-0.9-1.7-1.6-2.5 c-0.7-0.7-1.5-1.2-2.5-1.6c-0.5-0.2-1.2-0.4-2-0.5c-0.8-0.1-1.7-0.2-2.9-0.3c-1.1,0-2-0.1-2.7-0.1C31.1,8.7,30.1,8.7,28.8,8.7z M34.4,18.5c2.1,2.1,3.2,4.7,3.2,7.8s-1.1,5.6-3.2,7.8c-2.1,2.1-4.7,3.2-7.8,3.2c-3.1,0-5.6-1.1-7.8-3.2c-2.1-2.1-3.2-4.7-3.2-7.8 s1.1-5.6,3.2-7.8c2.1-2.1,4.7-3.2,7.8-3.2C29.7,15.3,32.3,16.3,34.4,18.5z M31.7,31.3c1.4-1.4,2.1-3.1,2.1-5s-0.7-3.7-2.1-5.1 c-1.4-1.4-3.1-2.1-5.1-2.1c-2,0-3.7,0.7-5.1,2.1s-2.1,3.1-2.1,5.1s0.7,3.7,2.1,5c1.4,1.4,3.1,2.1,5.1,2.1 C28.6,33.4,30.3,32.7,31.7,31.3z M39.9,13c0.5,0.5,0.8,1.1,0.8,1.8c0,0.7-0.3,1.3-0.8,1.8c-0.5,0.5-1.1,0.8-1.8,0.8 s-1.3-0.3-1.8-0.8c-0.5-0.5-0.8-1.1-0.8-1.8c0-0.7,0.3-1.3,0.8-1.8c0.5-0.5,1.1-0.8,1.8-0.8S39.4,12.5,39.9,13z\" /> </g> </svg> <svg x=\"0px\" y=\"0px\" viewBox=\"0 0 250 203.1\" xml:space=\"preserve\" data-twitter-svg > <path d=\"M78.6,203.1c94.3,0,145.9-78.2,145.9-145.9c0-2.2,0-4.4-0.1-6.6c10-7.3,18.7-16.3,25.6-26.5 c-9.4,4.1-19.3,6.9-29.5,8.1c10.7-6.4,18.7-16.5,22.5-28.4c-10.1,6-21.1,10.2-32.6,12.4c-19.4-20.7-51.9-21.7-72.6-2.2 c-13.3,12.5-19,31.2-14.8,49C81.9,60.9,43.4,41.4,17.4,9.4C3.8,32.8,10.7,62.8,33.3,77.8c-8.2-0.2-16.1-2.4-23.3-6.4 c0,0.2,0,0.4,0,0.6c0,24.4,17.2,45.4,41.2,50.3c-7.6,2.1-15.5,2.4-23.2,0.9c6.7,20.9,26,35.2,47.9,35.6c-18.2,14.3-40.6,22-63.7,22 c-4.1,0-8.2-0.3-12.2-0.7C23.5,195.2,50.7,203.1,78.6,203.1\" /> </svg> <!DOCTYPE html> <html lang=\"en\"> <head> <meta charset=\"UTF-8\"> <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"> <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\"> <title>vamtiger-social-media-button</title> <link rel=\"stylesheet\" href=\"https://unpkg.com/mocha/mocha.css\"> <link rel=\"stylesheet\" href=\"test.css\"> <script src=\"https://unpkg.com/mocha/mocha.js\"></script> <script src=\"https://unpkg.com/chai/chai.js\"></script> <script src=\"https://unpkg.com/vamtiger-browser-support@latest/build/vamtiger-browser-support.js\" src-local=\"http://127.0.0.1:9999/build/vamtiger-browser-support.js\" data-es2015-support-primary data-element-query-support data-web-component-support data-fetch-support data-load=\"test/browser.js\" ></script> </head> <body> <section id=\"mocha\"> <header> <h1> vamtiger-social-media-button </h1> </header> </section> <vamtiger-social-media-button data-twitter data-color=\"#1DA1F2\" ></vamtiger-social-media-button> <vamtiger-social-media-button data-facebook data-color=\"#3C5A99\" ></vamtiger-social-media-button> <vamtiger-social-media-button data-instagram ></vamtiger-social-media-button> </body> </html>`;","import {\n    IGetTemplate,\n    GetTemplate,\n    StringConstant,\n    AttributesKey\n} from './types';\nimport html from './html';\nimport css from './css';\n\nconst { nothing } = StringConstant;\nconst template = document.createElement('template');\nconst stylesheet = `<style>${css}</style>`\nconst templateHtml = [\n    stylesheet,\n    html\n].join(nothing);\n\ntemplate.innerHTML = templateHtml;\n\nexport default <P extends IGetTemplate>(params: P) => {\n    const {\n        selector,\n        attributes = {},\n        properties = {}\n    } = params;\n    const attributesKeys = Object.keys(attributes) as AttributesKey[]\n    const templateElement = template.content.querySelector(selector);\n    const currentTemplate = templateElement && templateElement.cloneNode(true) as GetTemplate<P>;\n\n    if (currentTemplate) {\n        Object.assign(currentTemplate, properties);\n\n        attributesKeys.forEach(key => attributes[key] && currentTemplate.setAttribute(key, attributes[key] || ''));\n    }\n\n    return currentTemplate;\n};","import {\n    IHandleAttributeChanged,\n    Selector,\n    StringConstant\n} from './types';\n\nconst selector = [\n    Selector.facebookSvgPath,\n    Selector.twitterSvgPath\n].join(StringConstant.comma);\n\nexport default function ({ element, newValue: fill}: IHandleAttributeChanged) {\n    const { shadowRoot } = element;\n    const path = shadowRoot && shadowRoot.querySelector<SVGPathElement>(selector);\n\n    if (path && fill) {\n        path.style.fill = fill;\n    }\n}","import {\n    IHandleAttributeChanged,\n    HandleAttributeChanged\n} from './types';\nimport handleColorChanged from './handle-color-changed';\n\nexport default {\n    'data-color': handleColorChanged\n} as HandleAttributeChanged;","import loadScript from '../node_modules/vamtiger-browser-method/source/load-script';\nimport {\n    Selector,\n    ObservedAttribute,\n    StringConstant\n} from './types';\nimport {\n    shadowRoot as shadowRootConfig,\n    observedAttributes\n} from './config';\nimport css from './css/document-index';\nimport getTemplate from './get-template';\nimport handleAttributeChange from './handle-attribute-changed';\nimport loadIcon from './load-icon';\n\nexport const name = 'vamtiger-social-media-button';\nconst {\n    newline\n} = StringConstant;\n\ncss && loadScript({ name, css })\n    .catch(console.error);\n\nexport default class VamtigerSocialMediaButton extends HTMLElement {\n    constructor() {\n        super();\n\n        const shadowRoot = this.attachShadow(shadowRootConfig);\n        const stylesheet = getTemplate({\n            selector: Selector.style\n        });\n        const slot = getTemplate({\n            selector: Selector.slot,\n            attributes: {\n                name\n            }\n        });\n        const elements = [\n            stylesheet,\n            slot\n        ];\n\n        elements.forEach(element => element && shadowRoot.appendChild(element));\n    }\n\n    static get observedAttributes() {\n        return observedAttributes;\n    }\n\n    async connectedCallback() {\n        const element = this;\n\n        await loadIcon({ element });\n    }\n\n    attributeChangedCallback(name: ObservedAttribute, oldValue: string, newValue: string) {\n        const element = this;\n\n        handleAttributeChange[name]({\n            name,\n            oldValue,\n            newValue,\n            element\n        });\n    }\n}","import * as tslib from '../node_modules/tslib/tslib';\nimport defineCustomElement from './define-custom-element';\n\nexport enum ScriptType {\n    jsonld = 'application/ld+json'\n}\n\nexport enum ScriptAttribute {\n    type = 'type'\n}\n\nexport enum DataAttribute {\n    vamtigerElementQuery = 'vamtigerLoadElementQueryCss',\n    elementQueryCssLoaded = 'elementQueryCssLoaded'\n}\n\nexport enum ErrorMessage {\n    failedToLoadScript = 'Failed to load script',\n    windowPropertyNotSet = 'Window property not set',\n    unsupportedFeature = 'Unsupported feature',\n    customElementAreadyDefined = 'Custom element already defined',\n    noElementName = 'No Element Name',\n    noTemplateUrl = 'No Template URL',\n    noElementSelector = 'No Template Selector',\n    noTemplateForUrl = 'No Template for URL',\n    noTemplate = 'No Template',\n    noElementForSelector = 'No Element for Selector'\n}\n\nexport enum StringConstant {\n    nothing = '',\n    slash = '/',\n    dash = '-'\n}\n\nexport enum TagName {\n    div = 'div'\n}\n\nexport enum LinkRel {\n    stylesheet = 'stylesheet'\n}\n\nexport enum LoadScriptElement {\n    script = 'script',\n    link = 'link',\n    style = 'style'\n}\n\nexport enum Selector {\n    lastStylesheet = 'style:last-of-type',\n    lastMetaElement = 'head > meta:last-of-type',\n    webcomponentsjs = 'script[src*=\"@webcomponents\\/webcomponentsjs\"]'\n}\n\nexport enum  MetaElementName {\n    loadElementQueryCss = 'vamtiger-load-element-query-css'\n}\n\nexport interface ILoadRemoteScriptParams {\n    src: string;\n}\n\nexport interface ILoadRemoteStylesheetScriptParams {\n    href: string;\n}\n\nexport interface ILoadLocalScriptParams {\n    name: string;\n    removeFromDom?: boolean;\n}\n\nexport interface ILoadScriptParams {\n    js: string;\n    jsonld?: boolean;\n}\n\nexport interface ILoadStylesheetScriptParams {\n    css: string;\n}\n\nexport interface ILoadScript {\n    params: LocalScriptParams\n        | LocalStylesheetScriptParams\n        | ILoadRemoteScriptParams\n        | ILoadRemoteStylesheetScriptParams;\n    reject: (error: Error) => void\n}\n\nexport interface ILoadShadowStylesheet {\n    css: string;\n    element: HTMLElement;\n}\n\nexport interface IDefineCustomElement {\n    name: string;\n    constructor: {\n        new (): HTMLElement\n        prototype: HTMLElement;\n    };\n    ignore?: boolean;\n}\n\nexport interface IPause {\n    milliseconds: number;\n}\n\nexport interface IGetElementBase {\n    name: string;\n}\n\nexport interface IGetElementTemplate extends IGetElementBase {\n    template: string;\n}\n\nexport interface IGetElementUrl extends IGetElementBase {\n    url: string;\n    selector:  string;\n}\n\nexport interface IAnyObject {\n    [key: string]: any;\n}\n\nexport interface ILoadElementQueryCss {\n    css: string;\n    stylesheetName?: string;\n    hostName?: string;\n}\n\nexport interface IGetMetaElement {\n    selector?: string;\n    properties?: {\n        id?: string;\n    };\n    attributes?: {\n        [key: string]: string;\n    };\n    dataset?: DOMStringMap;\n}\n\nexport type TsLibType = typeof tslib;\n\nexport type TsLibKey = keyof TsLibType;\n\nexport type TsLib = {\n    [K in TsLibKey]: TsLibType[K]\n}\n\nexport type LocalScriptParams = ILoadLocalScriptParams & ILoadScriptParams;\n\nexport type LocalStylesheetScriptParams = ILoadLocalScriptParams & ILoadStylesheetScriptParams;\n\nexport type LoadScriptParams = LocalScriptParams\n    | LocalStylesheetScriptParams\n    | ILoadRemoteScriptParams\n    | ILoadRemoteStylesheetScriptParams;\n\nexport type LoadScriptsParams = LoadScriptParams[];\n\nexport type LoadScriptsSequentiallyParams = LoadScriptsParams[];\n\nexport type LoadedScript<P extends ILoadScript['params']> =\n    P extends ILoadScriptParams ? HTMLScriptElement :\n    P extends ILoadStylesheetScriptParams ? HTMLStyleElement :\n    P extends ILoadRemoteScriptParams ? HTMLScriptElement :\n    P extends ILoadRemoteStylesheetScriptParams ? HTMLLinkElement :\n    never;\n\nexport type LoadedScripts<P extends LoadScriptsParams> =\n    P extends ILoadScriptParams[] ? HTMLScriptElement[] :\n    P extends ILoadStylesheetScriptParams[] ? HTMLStyleElement[] :\n    P extends ILoadRemoteScriptParams[] ? HTMLScriptElement[] :\n    P extends ILoadRemoteStylesheetScriptParams[] ? HTMLLinkElement[] :\n    never;\n\nexport type LoadedScriptsSequentially<P extends LoadScriptsSequentiallyParams> =\n    P extends ILoadScriptParams[][] ? HTMLScriptElement[] :\n    P extends ILoadStylesheetScriptParams[][] ? HTMLStyleElement[] :\n    P extends ILoadRemoteScriptParams[][] ? HTMLScriptElement[] :\n    P extends ILoadRemoteStylesheetScriptParams[][] ? HTMLLinkElement[] :\n    never;\n\nexport type GetElementParams = IGetElementTemplate | IGetElementUrl;\n\ndeclare global {\n    interface Window extends TsLib {\n        VamtigerBrowserMethod: {\n            loadScript: <P extends ILoadScript['params']>(params: P) => Promise<LoadedScript<P>>;\n            loadScripts: <P extends LoadScriptsParams>(params: P) => Promise<LoadedScripts<P>>;\n            loadScriptsSequentially: <P extends LoadScriptsSequentiallyParams>(params: P) => Promise<LoadedScriptsSequentially<P>>;\n            loadShadowStylesheet: (params: ILoadShadowStylesheet) => void;\n            defineCustomElement: (params: IDefineCustomElement) => void;\n            getElement: (params: GetElementParams) => Promise<HTMLElement>;\n            pause: (params: IPause) => Promise<{}>;\n        }\n        EQCSS: IAnyObject;\n    }\n\n    namespace NodeJS {\n        interface  Global {\n            VamtigerBrowserMethod: Window['VamtigerBrowserMethod'];\n        }\n    }\n}\n\nexport const regex = {\n    showRootHost: /:{1,2}host/gm,\n    dash: new RegExp(StringConstant.dash, 'g'),\n    space: /\\s/g,\n    nonWord: /\\W+/g\n}","import {\n    IGetMetaElement,\n    StringConstant,\n    Selector\n} from './types';\n\nconst { nothing } = StringConstant;\n\nexport default function ({ selector = nothing, properties = {}, dataset = {}, attributes = {}}: IGetMetaElement) {\n    const { id } = properties;\n    const { head } = document;\n    const lastMetaElement = head.querySelector<HTMLMetaElement>(Selector.lastMetaElement);\n    const attributeKeys = Object.keys(attributes);\n    const existingMetaElement = id && ((window as any)[id]\n        || selector && head.querySelector(selector)) as HTMLMetaElement;\n    const newMetaElment = !existingMetaElement && document.createElement('meta');\n    const metaElement = (existingMetaElement || newMetaElment) as HTMLMetaElement;\n\n    let dataKey: string;\n\n    if (newMetaElment) {\n        Object.assign(newMetaElment, properties);\n        Object.assign(newMetaElment.dataset, dataset);\n\n        if (lastMetaElement && lastMetaElement.nextElementSibling) {\n            head.insertBefore(\n                newMetaElment,\n                lastMetaElement.nextElementSibling\n            );\n        } else {\n            head.appendChild(newMetaElment);\n        }\n    }\n\n    attributeKeys.forEach(key => !metaElement.hasAttribute(key) && metaElement.setAttribute(dataKey, attributes[key]));\n\n    return metaElement;\n}","import {\n    regex,\n    StringConstant\n} from './types';\n\nconst { nothing } = StringConstant;\nconst { nonWord } = regex;\n\nexport default (input: string) => input\n    .split(nonWord)\n    .map((word, index) => !index && word.toLowerCase() || word.slice(0, 1).toUpperCase() + word.slice(1).toLowerCase())\n    .join(nothing);","import {\n    ILoadElementQueryCss,\n    MetaElementName,\n    StringConstant,\n    regex\n} from './types';\nimport getMetaElment from './get-meta-element';\nimport getCamelCase from './get-camel-case';\n\nconst { showRootHost } = regex;\nconst { nothing } = StringConstant;\n\nexport default function({ css, stylesheetName: currentStylesheetName = nothing, hostName = nothing }: ILoadElementQueryCss) {\n    const metaElement = getMetaElment({\n        properties: {\n            id: MetaElementName.loadElementQueryCss\n        }\n    });\n    const stylesheetName = getCamelCase(currentStylesheetName);\n    const { dataset } = metaElement;\n    const elementQueryCss = !dataset.hasOwnProperty(hostName) && (hostName && css.replace(showRootHost, hostName)) || css;\n    const { EQCSS } = window;\n\n    if (elementQueryCss && EQCSS) {\n        EQCSS.register(EQCSS.parse(elementQueryCss));\n\n        if (stylesheetName) {\n            dataset[stylesheetName] = nothing;\n        } else if (hostName) {\n            dataset[hostName] = nothing;\n        }\n    }\n}","import {\n    ILoadScript,\n    ErrorMessage,\n    LocalScriptParams,\n    LocalStylesheetScriptParams,\n    ILoadRemoteStylesheetScriptParams,\n    ILoadRemoteScriptParams,\n    LoadScriptElement,\n    LoadedScript,\n    LinkRel,\n    ScriptAttribute,\n    ScriptType\n} from './types';\nimport loadElementQueryCss from './load-element-query-css';\n\nconst { failedToLoadScript } = ErrorMessage;\nconst { stylesheet } = LinkRel;\nconst { script: scriptElement, link, style } = LoadScriptElement;\n\nexport default <P extends ILoadScript['params']>(params: P) => new Promise((resolve: (script: LoadedScript<P>) => void, reject: ILoadScript['reject']) => {\n    const { head, body } = document;\n    const { js, name: scriptName, jsonld, removeFromDom } = params as LocalScriptParams;\n    const { src } = params as ILoadRemoteScriptParams;\n    const { css, name: stylesheetName } = params as LocalStylesheetScriptParams;\n    const { href } = params as ILoadRemoteStylesheetScriptParams;\n    const remoteScript = params.hasOwnProperty('src') || params.hasOwnProperty('href');\n    const element = (js || src) && scriptElement\n        || css && style\n        || href && link;\n    const selector = src && `script[src=\"${src}\"]`\n        || href && `link[href=\"${href}\"]`\n        || js && scriptName && `script[data-name=\"${scriptName}\"]`\n        || css && stylesheetName && `style[data-name=\"${stylesheetName}\"]`;\n    const existingScript = (head.querySelector(selector) || body.querySelector(selector)) as LoadedScript<P>;\n    const script = selector\n        && element\n        && document.createElement(element) as LoadedScript<P>;\n\n    if (script instanceof HTMLScriptElement) {\n        if (src) {\n            script.src = src;\n        } else if (js) {\n            script.innerHTML = js;\n            script.dataset.name = scriptName;\n\n            if (jsonld) {\n                script.setAttribute(ScriptAttribute.type, ScriptType.jsonld);\n            }\n        }\n    } else if (script instanceof HTMLLinkElement) {\n        script.rel = stylesheet;\n        script.href = href;\n    } else if (script instanceof HTMLStyleElement) {\n        script.innerHTML = css;\n        script.dataset.name = stylesheetName;\n\n        loadElementQueryCss({\n            css,\n            stylesheetName\n        });\n    }\n\n    if (existingScript) {\n        resolve(existingScript);\n    } else if (script) {\n        script.addEventListener('load', handleLoad);\n        script.addEventListener('error', handleLoadError);\n\n        head.appendChild(script);\n\n        if (!remoteScript) {\n            handleLoad();\n        }\n    }\n\n    function handleLoad() {\n        if (script) {\n            removeEventListeners();\n\n            if (removeFromDom) {\n                head.removeChild(script);\n            }\n\n            resolve(script);\n        }\n    }\n\n    function handleLoadError(event: Event) {\n        removeEventListeners();\n\n        console.error(event);\n\n        reject(new Error(`${failedToLoadScript}`));\n    }\n\n    function removeEventListeners() {\n        if (script) {\n            script.removeEventListener('load', handleLoad);\n            script.removeEventListener('error', handleLoadError);\n        }\n    }\n});\n","import VamtigerSocialMediaIcon from './element';\n\nexport enum StringConstant {\n    nothing = '',\n    newline = '\\n'\n}\n\nexport enum Selector {\n    style = 'style',\n    slot = 'slot',\n    figure = 'figure',\n    figcaption = 'figcaption',\n    facebook = 'figure[data-facebook]',\n    twitter = 'figure[data-twitter]',\n    instagram = 'figure[data-instagram]',\n    iconPath = 'svg > path'\n}\n\nexport enum IconFigure {\n    twitter = 'twitter',\n    instagram = 'instagram',\n    facebook = 'facebook'\n}\n\nexport enum ObservedAttributes {\n\n}\n\nexport interface IGetTemplate {\n    selector: Selector;\n    attributes?: IAttributes;\n    properties?: IProperties;\n}\n\nexport interface IAttributes {\n    id?: string;\n    for?: string;\n    name?: string;\n}\n\nexport interface IProperties {\n    innerHTML?: string;\n}\n\nexport interface IDataset extends DOMStringMap {\n    twitter?: IconFigure.twitter;\n    facebook?: IconFigure.facebook;\n    instagram?: IconFigure.instagram;\n    color?: string;\n    hoverColor?: string;\n}\n\nexport interface ILoadIcon {\n    element: VamtigerSocialMediaIcon;\n}\n\nexport type AttributesKey = keyof IAttributes;\n\nexport type ObservedAttribute = keyof typeof ObservedAttributes;\n\nexport type GetTemplate<P extends IGetTemplate> =\n    P['selector'] extends Selector.style ? HTMLStyleElement :\n    P['selector'] extends Selector.slot ? HTMLSlotElement :\n    P['selector'] extends\n        Selector.figure\n        | Selector.figcaption\n        | Selector.facebook\n        | Selector.twitter\n        | Selector.instagram\n        | Selector.figcaption\n            ? HTMLElement :\n    null;","export default `figcaption,figure,svg,vamtiger-social-media-icon{margin:0;padding:0}vamtiger-social-media-icon [slot=vamtiger-social-media-icon],vamtiger-social-media-icon [slot=vamtiger-social-media-icon] svg{width:100%;height:100%}vamtiger-social-media-icon [slot=vamtiger-social-media-icon][data-instagram] svg{-webkit-transform:scale(1.27) translateY(1px);transform:scale(1.27) translateY(1px)}vamtiger-social-media-icon [slot=vamtiger-social-media-icon] svg>path{-webkit-transition:fill 175ms linear;transition:fill 175ms linear}\n/*# sourceMappingURL=document-index.ts.map */`;","export default `<style data-dynamic-style> </style> <slot></slot> <figure></figure> <figcaption></figcaption> <figure data-facebook> <svg x=\"0px\" y=\"0px\" viewBox=\"0 0 10.6 20.4\" xml:space=\"preserve\" > <path d=\"M3.1,20.4v-9.3H0V7.5h3.1V4.8C3.1,1.7,5,0,7.8,0c1.3,0,2.5,0.1,2.8,0.1v3.2l-1.9,0c-1.5,0-1.8,0.7-1.8,1.8v2.3h3.6L10,11.1H6.9v9.3H3.1z\" /> </svg> </figure> <figure data-instagram> <svg x=\"0px\" y=\"0px\" viewBox=\"0 0 54 54\" xml:space=\"preserve\" > <path d=\"M48.1,26.3c0,4.3,0,7.2-0.1,8.8c-0.2,3.9-1.3,6.9-3.5,9s-5.1,3.3-9,3.5c-1.6,0.1-4.6,0.1-8.8,0.1c-4.3,0-7.2,0-8.8-0.1 c-3.9-0.2-6.9-1.3-9-3.5c-2.1-2.1-3.3-5.1-3.5-9c-0.1-1.6-0.1-4.6-0.1-8.8s0-7.2,0.1-8.8c0.2-3.9,1.3-6.9,3.5-9 c2.1-2.1,5.1-3.3,9-3.5c1.6-0.1,4.6-0.1,8.8-0.1c4.3,0,7.2,0,8.8,0.1c3.9,0.2,6.9,1.3,9,3.5s3.3,5.1,3.5,9 C48,19.1,48.1,22,48.1,26.3z M28.8,8.7c-1.3,0-2,0-2.1,0c-0.1,0-0.8,0-2.1,0c-1.3,0-2.3,0-2.9,0c-0.7,0-1.6,0-2.7,0.1 c-1.1,0-2.1,0.1-2.9,0.3c-0.8,0.1-1.5,0.3-2,0.5c-0.9,0.4-1.7,0.9-2.5,1.6c-0.7,0.7-1.2,1.5-1.6,2.5c-0.2,0.5-0.4,1.2-0.5,2 s-0.2,1.7-0.3,2.9c0,1.1-0.1,2-0.1,2.7c0,0.7,0,1.7,0,2.9c0,1.3,0,2,0,2.1s0,0.8,0,2.1c0,1.3,0,2.3,0,2.9c0,0.7,0,1.6,0.1,2.7 c0,1.1,0.1,2.1,0.3,2.9s0.3,1.5,0.5,2c0.4,0.9,0.9,1.7,1.6,2.5c0.7,0.7,1.5,1.2,2.5,1.6c0.5,0.2,1.2,0.4,2,0.5 c0.8,0.1,1.7,0.2,2.9,0.3s2,0.1,2.7,0.1c0.7,0,1.7,0,2.9,0c1.3,0,2,0,2.1,0c0.1,0,0.8,0,2.1,0c1.3,0,2.3,0,2.9,0 c0.7,0,1.6,0,2.7-0.1c1.1,0,2.1-0.1,2.9-0.3c0.8-0.1,1.5-0.3,2-0.5c0.9-0.4,1.7-0.9,2.5-1.6c0.7-0.7,1.2-1.5,1.6-2.5 c0.2-0.5,0.4-1.2,0.5-2c0.1-0.8,0.2-1.7,0.3-2.9c0-1.1,0.1-2,0.1-2.7c0-0.7,0-1.7,0-2.9c0-1.3,0-2,0-2.1s0-0.8,0-2.1 c0-1.3,0-2.3,0-2.9c0-0.7,0-1.6-0.1-2.7c0-1.1-0.1-2.1-0.3-2.9c-0.1-0.8-0.3-1.5-0.5-2c-0.4-0.9-0.9-1.7-1.6-2.5 c-0.7-0.7-1.5-1.2-2.5-1.6c-0.5-0.2-1.2-0.4-2-0.5c-0.8-0.1-1.7-0.2-2.9-0.3c-1.1,0-2-0.1-2.7-0.1C31.1,8.7,30.1,8.7,28.8,8.7z M34.4,18.5c2.1,2.1,3.2,4.7,3.2,7.8s-1.1,5.6-3.2,7.8c-2.1,2.1-4.7,3.2-7.8,3.2c-3.1,0-5.6-1.1-7.8-3.2c-2.1-2.1-3.2-4.7-3.2-7.8 s1.1-5.6,3.2-7.8c2.1-2.1,4.7-3.2,7.8-3.2C29.7,15.3,32.3,16.3,34.4,18.5z M31.7,31.3c1.4-1.4,2.1-3.1,2.1-5s-0.7-3.7-2.1-5.1 c-1.4-1.4-3.1-2.1-5.1-2.1c-2,0-3.7,0.7-5.1,2.1s-2.1,3.1-2.1,5.1s0.7,3.7,2.1,5c1.4,1.4,3.1,2.1,5.1,2.1 C28.6,33.4,30.3,32.7,31.7,31.3z M39.9,13c0.5,0.5,0.8,1.1,0.8,1.8c0,0.7-0.3,1.3-0.8,1.8c-0.5,0.5-1.1,0.8-1.8,0.8 s-1.3-0.3-1.8-0.8c-0.5-0.5-0.8-1.1-0.8-1.8c0-0.7,0.3-1.3,0.8-1.8c0.5-0.5,1.1-0.8,1.8-0.8S39.4,12.5,39.9,13z\" /> </svg> </figure> <figure data-twitter> <svg x=\"0px\" y=\"0px\" viewBox=\"0 0 250 203.1\" xml:space=\"preserve\" > <path d=\"M78.6,203.1c94.3,0,145.9-78.2,145.9-145.9c0-2.2,0-4.4-0.1-6.6c10-7.3,18.7-16.3,25.6-26.5 c-9.4,4.1-19.3,6.9-29.5,8.1c10.7-6.4,18.7-16.5,22.5-28.4c-10.1,6-21.1,10.2-32.6,12.4c-19.4-20.7-51.9-21.7-72.6-2.2 c-13.3,12.5-19,31.2-14.8,49C81.9,60.9,43.4,41.4,17.4,9.4C3.8,32.8,10.7,62.8,33.3,77.8c-8.2-0.2-16.1-2.4-23.3-6.4 c0,0.2,0,0.4,0,0.6c0,24.4,17.2,45.4,41.2,50.3c-7.6,2.1-15.5,2.4-23.2,0.9c6.7,20.9,26,35.2,47.9,35.6c-18.2,14.3-40.6,22-63.7,22 c-4.1,0-8.2-0.3-12.2-0.7C23.5,195.2,50.7,203.1,78.6,203.1\" /> </svg> </figure> <!DOCTYPE html> <html lang=\"en\"> <head> <meta charset=\"UTF-8\"> <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"> <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\"> <title>vamtiger-social-media-icon</title> <link rel=\"stylesheet\" href=\"https://unpkg.com/mocha/mocha.css\"> <link rel=\"stylesheet\" href=\"test.css\"> <script src=\"https://unpkg.com/mocha/mocha.js\"></script> <script src=\"https://unpkg.com/chai/chai.js\"></script> <script src=\"https://unpkg.com/vamtiger-browser-support@latest/build/vamtiger-browser-support.js\" src-local=\"http://127.0.0.1:9999/build/vamtiger-browser-support.js\" data-es2015-support-primary data-element-query-support data-web-component-support data-fetch-support data-load=\"test/browser.js\" ></script> </head> <body> <section id=\"mocha\"> <header> <h1> vamtiger-social-media-icon </h1> </header> </section> <vamtiger-social-media-icon data-twitter></vamtiger-social-media-icon> <vamtiger-social-media-icon data-facebook></vamtiger-social-media-icon> <vamtiger-social-media-icon data-instagram></vamtiger-social-media-icon> </body> </html>`;","import {\n    IGetTemplate,\n    GetTemplate,\n    StringConstant,\n    AttributesKey\n} from './types';\nimport html from './html';\nimport css from './css';\n\nconst { nothing } = StringConstant;\nconst template = document.createElement('template');\nconst stylesheet = `<style>${css}</style>`\nconst templateHtml = [\n    stylesheet,\n    html\n].join(nothing);\n\ntemplate.innerHTML = templateHtml;\n\nexport default <P extends IGetTemplate>(params: P) => {\n    const {\n        selector,\n        attributes = {},\n        properties = {}\n    } = params;\n    const attributesKeys = Object.keys(attributes) as AttributesKey[]\n    const templateElement = template.content.querySelector(selector);\n    const currentTemplate = templateElement && templateElement.cloneNode(true) as GetTemplate<P>;\n\n    if (currentTemplate) {\n        Object.assign(currentTemplate, properties);\n\n        attributesKeys.forEach(key => attributes[key] && currentTemplate.setAttribute(key, attributes[key] || ''));\n    }\n\n    return currentTemplate;\n};","import {\n    ObservedAttributes,\n    ObservedAttribute\n} from './types'\n\nexport const shadowRoot = {\n    mode: 'open'\n} as ShadowRootInit;\n\nexport const observedAttributes = Object.keys(ObservedAttributes) as ObservedAttribute[];","import loadScript from '../node_modules/vamtiger-browser-method/source/load-script';\nimport {\n    Selector,\n    ObservedAttribute\n} from './types';\nimport css from './css/document-index';\nimport getTemplate from './get-template';\nimport {\n    shadowRoot as shadowRootConfig,\n    observedAttributes\n} from './config';\nimport loadIcon from './load-icon';\n\nexport const name = 'vamtiger-social-media-icon';\n\ncss && loadScript({ name, css })\n    .catch(console.error);\n\nexport default class VamtigerSocialMediaIcon extends HTMLElement {\n    constructor() {\n        super();\n\n        const shadowRoot = this.attachShadow(shadowRootConfig);\n        const stylesheet = getTemplate({\n            selector: Selector.style\n        });\n        const figureSlot = getTemplate({\n            selector: Selector.slot,\n            attributes: {\n                name\n            }\n        });\n        const elements = [\n            stylesheet,\n            figureSlot\n        ];\n\n        elements.forEach(element => element && shadowRoot.appendChild(element));\n    }\n\n    static get observedAttributes() {\n        return observedAttributes;\n    }\n\n    async connectedCallback() {\n        const element = this;\n\n        await loadIcon({ element });\n    }\n\n    attributeChangedCallback(name: ObservedAttribute, oldValue: string, newValue: string) {\n\n    }\n}","import {\n    IGetMetaElement,\n    StringConstant,\n    Selector\n} from './types';\n\nconst { nothing } = StringConstant;\n\nexport default function ({ selector = nothing, properties = {}, dataset = {}, attributes = {}}: IGetMetaElement) {\n    const { id } = properties;\n    const { head } = document;\n    const lastMetaElement = head.querySelector<HTMLMetaElement>(Selector.lastMetaElement);\n    const attributeKeys = Object.keys(attributes);\n    const existingMetaElement = id && ((window as any)[id]\n        || selector && head.querySelector(selector)) as HTMLMetaElement;\n    const newMetaElment = !existingMetaElement && document.createElement('meta');\n    const metaElement = (existingMetaElement || newMetaElment) as HTMLMetaElement;\n\n    let dataKey: string;\n\n    if (newMetaElment) {\n        Object.assign(newMetaElment, properties);\n        Object.assign(newMetaElment.dataset, dataset);\n\n        if (lastMetaElement && lastMetaElement.nextElementSibling) {\n            head.insertBefore(\n                newMetaElment,\n                lastMetaElement.nextElementSibling\n            );\n        } else {\n            head.appendChild(newMetaElment);\n        }\n    }\n\n    attributeKeys.forEach(key => !metaElement.hasAttribute(key) && metaElement.setAttribute(dataKey, attributes[key]));\n\n    return metaElement;\n}","import {\n    regex,\n    StringConstant\n} from './types';\n\nconst { nothing } = StringConstant;\nconst { nonWord } = regex;\n\nexport default (input: string) => input\n    .split(nonWord)\n    .map((word, index) => !index && word.toLowerCase() || word.slice(0, 1).toUpperCase() + word.slice(1).toLowerCase())\n    .join(nothing);","import {\n    ILoadElementQueryCss,\n    MetaElementName,\n    StringConstant,\n    regex\n} from './types';\nimport getMetaElment from './get-meta-element';\nimport getCamelCase from './get-camel-case';\n\nconst { showRootHost } = regex;\nconst { nothing } = StringConstant;\n\nexport default function({ css, stylesheetName: currentStylesheetName = nothing, hostName = nothing }: ILoadElementQueryCss) {\n    const metaElement = getMetaElment({\n        properties: {\n            id: MetaElementName.loadElementQueryCss\n        }\n    });\n    const stylesheetName = getCamelCase(currentStylesheetName);\n    const { dataset } = metaElement;\n    const elementQueryCss = !dataset.hasOwnProperty(hostName) && (hostName && css.replace(showRootHost, hostName)) || css;\n    const { EQCSS } = window;\n\n    if (elementQueryCss && EQCSS) {\n        EQCSS.register(EQCSS.parse(elementQueryCss));\n\n        if (stylesheetName) {\n            dataset[stylesheetName] = nothing;\n        } else if (hostName) {\n            dataset[hostName] = nothing;\n        }\n    }\n}","import {\n    ILoadScript,\n    ErrorMessage,\n    LocalScriptParams,\n    LocalStylesheetScriptParams,\n    ILoadRemoteStylesheetScriptParams,\n    ILoadRemoteScriptParams,\n    LoadScriptElement,\n    LoadedScript,\n    LinkRel,\n    ScriptAttribute,\n    ScriptType\n} from './types';\nimport loadElementQueryCss from './load-element-query-css';\n\nconst { failedToLoadScript } = ErrorMessage;\nconst { stylesheet } = LinkRel;\nconst { script: scriptElement, link, style } = LoadScriptElement;\n\nexport default <P extends ILoadScript['params']>(params: P) => new Promise((resolve: (script: LoadedScript<P>) => void, reject: ILoadScript['reject']) => {\n    const { head, body } = document;\n    const { js, name: scriptName, jsonld, removeFromDom } = params as LocalScriptParams;\n    const { src } = params as ILoadRemoteScriptParams;\n    const { css, name: stylesheetName } = params as LocalStylesheetScriptParams;\n    const { href } = params as ILoadRemoteStylesheetScriptParams;\n    const remoteScript = params.hasOwnProperty('src') || params.hasOwnProperty('href');\n    const element = (js || src) && scriptElement\n        || css && style\n        || href && link;\n    const selector = src && `script[src=\"${src}\"]`\n        || href && `link[href=\"${href}\"]`\n        || js && scriptName && `script[data-name=\"${scriptName}\"]`\n        || css && stylesheetName && `style[data-name=\"${stylesheetName}\"]`;\n    const existingScript = (head.querySelector(selector) || body.querySelector(selector)) as LoadedScript<P>;\n    const script = selector\n        && element\n        && document.createElement(element) as LoadedScript<P>;\n\n    if (script instanceof HTMLScriptElement) {\n        if (src) {\n            script.src = src;\n        } else if (js) {\n            script.innerHTML = js;\n            script.dataset.name = scriptName;\n\n            if (jsonld) {\n                script.setAttribute(ScriptAttribute.type, ScriptType.jsonld);\n            }\n        }\n    } else if (script instanceof HTMLLinkElement) {\n        script.rel = stylesheet;\n        script.href = href;\n    } else if (script instanceof HTMLStyleElement) {\n        script.innerHTML = css;\n        script.dataset.name = stylesheetName;\n\n        loadElementQueryCss({\n            css,\n            stylesheetName\n        });\n    }\n\n    if (existingScript) {\n        resolve(existingScript);\n    } else if (script) {\n        script.addEventListener('load', handleLoad);\n        script.addEventListener('error', handleLoadError);\n\n        head.appendChild(script);\n\n        if (!remoteScript) {\n            handleLoad();\n        }\n    }\n\n    function handleLoad() {\n        if (script) {\n            removeEventListeners();\n\n            if (removeFromDom) {\n                head.removeChild(script);\n            }\n\n            resolve(script);\n        }\n    }\n\n    function handleLoadError(event: Event) {\n        removeEventListeners();\n\n        console.error(event);\n\n        reject(new Error(`${failedToLoadScript}`));\n    }\n\n    function removeEventListeners() {\n        if (script) {\n            script.removeEventListener('load', handleLoad);\n            script.removeEventListener('error', handleLoadError);\n        }\n    }\n});\n","import VamtigerArticle from './element';\n\nexport enum StringConstant {\n    nothing = '',\n    space = ' '\n}\n\nexport enum Selector {\n    shadowStyle = 'style[data-shadow-style]',\n    customPropertyStyle = 'style[data-custom-property-style]',\n    slot = 'slot',\n    div = 'div',\n    span = 'span',\n    article = 'article',\n    section = 'section',\n    header = 'header',\n    footer = 'footer',\n    closeBar = '[data-close-bar]',\n    cover = 'article > vamtiger-cover-figure',\n    coverCaption = 'vamtiger-cover-figure [data-image-caption]',\n    articleContainer = '[data-article-container]',\n    headingTitle = 'article > header > h1',\n    headingSubtitle = 'article > header > h2',\n    paragraph = 'article > p',\n    backIcon = 'svg[data-back-button-icon]',\n    backButtonCaption = '[data-back-button-caption]',\n    socialMediaButton = 'vamtiger-social-media-button'\n}\n\nexport enum DataAttribute {\n    hiddenCover = 'hiddenCover',\n    articleContainer = 'articleContainer',\n    heading = 'heading',\n    paragraphs = 'paragraphs',\n    backButton = 'backButton',\n    backButtonContainer = 'backButtonContainer',\n    socialMedia = 'socialMedia'\n}\n\nexport enum SlotName {\n    cover = 'cover',\n    closeBar = 'close-bar',\n    socialMediaButton = 'social-media-button'\n}\n\nexport enum CustomProperty {\n    scrollOffset = '--vamtiger-article-scroll-offset',\n    coverCaptionOpacity = '--vamtiger-article-scroll-offset-cover-caption-opacity',\n    closeBarVisibility = '--vamtiger-article-close-bar-visibility',\n    closeBarTranslateY = '--vamtiger-article-close-bar-translate-y',\n    closeBarBottom = '--vamtiger-close-bar-bottom',\n    closeBarZIndex = '--vamtiger-article-close-bar-z-index',\n    socialMediaGridTemplateAreas = '--vamtiger-article-social-media-grid-template-areas'\n}\n\nexport enum GridTemplateArea {\n    socialMediaButton = 'socialMediaButton'\n}\n\nexport enum Caption {\n    back = 'back'\n}\n\nexport enum Visibility {\n    visible = 'visible',\n    hidden = 'hidden'\n}\n\nexport enum ObservedAttributes {\n\n}\n\nexport interface IGetTemplate {\n    selector: Selector;\n    attributes?: IAttributes;\n    properties?: IProperties;\n}\n\nexport interface IAttributes {\n    id?: string;\n    for?: string;\n    slot?: string;\n}\n\nexport interface IProperties {\n    innerHTML?: string;\n    name?: string;\n}\n\nexport interface ILoadArticle {\n    element: VamtigerArticle;\n}\n\nexport interface IDataset extends DOMStringMap {\n    article: string;\n    articleParagraphs?: string;\n}\n\nexport interface IHandleArticleScroll {\n    article: HTMLElement;\n}\n\nexport interface ISetupArticle {\n    element: VamtigerArticle;\n}\n\nexport interface IHandleClose {\n    element: VamtigerArticle;\n}\n\nexport type AttributesKey = keyof IAttributes;\n\nexport type ObservedAttribute = keyof typeof ObservedAttributes;\n\nexport type GetTemplate<P extends IGetTemplate> =\n    P['selector'] extends\n        Selector.shadowStyle\n        | Selector.customPropertyStyle ? HTMLStyleElement :\n    P['selector'] extends Selector.slot ? HTMLSlotElement :\n    P['selector'] extends Selector.div ? HTMLDivElement :\n    P['selector'] extends Selector.backButtonCaption ? HTMLSpanElement :\n    P['selector'] extends\n        Selector.article\n        | Selector.section\n        | Selector.header\n        | Selector.footer ? HTMLElement :\n    P['selector'] extends Selector.backIcon ? SVGElement :\n    null;","import {\n    ObservedAttributes,\n    ObservedAttribute\n} from './types'\n\nexport const shadowRoot = {\n    mode: 'open'\n} as ShadowRootInit;\n\nexport const observedAttributes = Object.keys(ObservedAttributes) as ObservedAttribute[];","export default `vamtiger-article div,vamtiger-article h1,vamtiger-article h2,vamtiger-article header,vamtiger-article p{margin:0;padding:0}vamtiger-article [slot=close-bar]{position:absolute;left:0;top:0;width:100%;padding:.65em;background-color:#fff;-webkit-filter:drop-shadow(0 -7px 7px #000);filter:drop-shadow(0 -7px 7px black);display:grid;cursor:pointer;z-index:0;visibility:hidden}vamtiger-article [slot=close-bar] [data-close-bar-title]{display:grid;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;grid-template-areas:\"a b\";grid-column-gap:.5em;text-transform:uppercase}vamtiger-article [slot=close-bar] [data-close-bar-title] [data-close-bar-title-icon]{grid-area:a}vamtiger-article [slot=close-bar] [data-close-bar-title] [data-close-bar-title-caption]{grid-area:b}vamtiger-article [data-back-button-container]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}vamtiger-article [data-back-button-container] svg[data-back-button-icon]{margin-right:.3em}vamtiger-article [data-back-button-container] [data-back-button-caption]{text-transform:uppercase}vamtiger-article [slot=close-bar]>*{grid-column:1;grid-row:1}vamtiger-article [data-social-media]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:left;-ms-flex-pack:left;justify-content:left}vamtiger-article [data-social-media] vamtiger-social-media-button{width:50px;height:50px}vamtiger-article [data-social-media] vamtiger-social-media-button:nth-of-type(n+2){margin-left:2em}vamtiger-article vamtiger-cover-figure[data-loaded] [slot=dark-overlay]:first-of-type{display:none}vamtiger-article vamtiger-cover-figure[data-loaded] [slot=dark-overlay]:last-of-type{background:-webkit-gradient(linear,left top,left bottom,color-stop(5%,transparent),color-stop(40%,transparent),color-stop(60%,rgba(0,0,0,.2)),to(rgba(0,0,0,.5)));background:linear-gradient(180deg,transparent 5%,transparent 40%,rgba(0,0,0,.2) 60%,rgba(0,0,0,.5))}vamtiger-article [slot=cover]{position:absolute;left:0;top:0;width:100%;height:100%;z-index:1}vamtiger-article>[slot=vamtiger-article]{z-index:2;position:absolute;top:0;left:0;right:0;bottom:0;overflow:auto}vamtiger-article>[slot=vamtiger-article] [data-article-container],vamtiger-article>[slot=vamtiger-article] [data-article-container] [data-heading],vamtiger-article>[slot=vamtiger-article] [data-article-container] [data-paragraphs]{display:grid}vamtiger-article>[slot=vamtiger-article] [data-hidden-cover]{height:100%}vamtiger-article>[slot=vamtiger-article] [data-article-container]{position:relative;background-color:#fff;-webkit-box-sizing:border-box;box-sizing:border-box;grid-gap:2.5em;min-height:100%;padding-top:2.5em;padding-bottom:2.5em}vamtiger-article>[slot=vamtiger-article] [data-article-container] [data-heading]{grid-gap:.5em}vamtiger-article>[slot=vamtiger-article] [data-article-container] [data-heading] h1{font-size:1.4em;letter-spacing:.05em;text-transform:uppercase}vamtiger-article>[slot=vamtiger-article] [data-article-container] [data-heading] h2{font-size:1.1em;letter-spacing:.03em;text-transform:uppercase}vamtiger-article>[slot=vamtiger-article] [data-article-container] [data-paragraphs]{grid-gap:2.5em;font-size:.9em;letter-spacing:.02em}@element vamtiger-article [slot=\"close-bar\"] and (min-width:200px){[data-back-button-container] svg[data-back-button-icon]{width:12px;height:12px}[data-back-button-container] [data-back-button-caption]{font-size:.8em}[data-back-button-container] [data-back-button-caption],[data-close-bar-title] [data-close-bar-title-caption]{letter-spacing:.05em}[data-close-bar-title] [data-close-bar-title-icon]{width:20px;height:20px}[data-close-bar-title] [data-close-bar-title-caption]{font-size:1em}}@element vamtiger-article [slot=\"close-bar\"] and (max-width:350px){[data-back-button-container] [data-back-button-caption]{display:none}}@element vamtiger-article [slot=\"close-bar\"] and (min-width:500px){[data-back-button-container] svg[data-back-button-icon]{width:15px;height:15px}[data-back-button-container] [data-back-button-caption],[data-close-bar-title] [data-close-bar-title-caption]{letter-spacing:.1em}[data-back-button-container] [data-back-button-caption]{font-size:1em}[data-close-bar-title] [data-close-bar-title-icon]{width:25px;height:25px}[data-close-bar-title] [data-close-bar-title-caption]{font-size:1.3em}}@element vamtiger-article > [slot=\"vamtiger-article\"] [data-article-container] and (min-width:100px){:self{padding:0 2%}}@element vamtiger-article > [slot=\"vamtiger-article\"] [data-article-container] and (min-width:300px){:self{padding:0 3%}}@element vamtiger-article > [slot=\"vamtiger-article\"] [data-article-container] and (min-width:500px){:self{padding:0 5%}}@element vamtiger-article > [slot=\"vamtiger-article\"] [data-article-container] and (min-width:900px){:self{padding:0 10%}}@element vamtiger-article > [slot=\"vamtiger-article\"] [data-article-container] and (min-width:1200px){:self{padding:0 15%}}@element vamtiger-article > [slot=\"vamtiger-article\"] [data-article-container] and (min-width:1400px){:self{padding:0 20%}}\n/*# sourceMappingURL=document-index.ts.map */`;","export default `<svg data-back-button-icon version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 477.175 477.175\" style=\"enable-background:new 0 0 477.175 477.175;\" xml:space=\"preserve\" > <g> <path d=\"M145.188,238.575l215.5-215.5c5.3-5.3,5.3-13.8,0-19.1s-13.8-5.3-19.1,0l-225.1,225.1c-5.3,5.3-5.3,13.8,0,19.1l225.1,225 c2.6,2.6,6.1,4,9.5,4s6.9-1.3,9.5-4c5.3-5.3,5.3-13.8,0-19.1L145.188,238.575z\"/> </g> </svg> <style data-custom-property-style> :root { --vamtiger-article-scroll-offset: 0; --vamtiger-article-close-bar-z-index: 0; --vamtiger-article-close-bar-visibility: hidden; --vamtiger-article-close-bar-translate-y: 0; --vamtiger-article-scroll-offset-cover-caption-opacity: 1; --vamtiger-article-social-media-grid-template-areas: \"socialMediaButton\"; } vamtiger-article > [slot=\"close-bar\"] { z-index: var(--vamtiger-article-close-bar-z-index); visibility: var(--vamtiger-article-close-bar-visibility); transform: translateY(calc(var(--vamtiger-article-close-bar-translate-y) * 1px)); transition: transform 235ms; } vamtiger-article > vamtiger-cover-figure, vamtiger-article > vamtiger-cover-figure [data-image-caption] { transform-style: preserve-3d; /* transition: transform 55ms; */ } vamtiger-article > vamtiger-cover-figure { transform: translateY(calc(var(--vamtiger-article-scroll-offset) * 0.375px)); } vamtiger-article vamtiger-cover-figure [data-image-caption] { transform: translateY(calc(var(--vamtiger-article-scroll-offset) * 0.485px)); } vamtiger-article vamtiger-cover-figure [data-image-caption] > * { opacity: var(--vamtiger-article-scroll-offset-cover-caption-opacity); transition: opacity 255ms linear; } </style> <slot></slot> <div></div> <header></header> <article></article> <section></section> <footer></footer> <span data-back-button-caption> Back </span> <!DOCTYPE html> <html lang=\"en\"> <head> <meta charset=\"UTF-8\"> <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"> <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\"> <title>Some Article</title> </head> <body> <article> <nav data-close-bar data-back-button> <div data-close-bar-title> <vamtiger-cover-figure data-close-bar-title-icon data-image=\"http://www.qr-generator.nu/qrcode.svg\" ></vamtiger-cover-figure> <span data-close-bar-title-caption> Vamtiger Article </span> </div> </nav> <vamtiger-cover-figure data-image=\"https://render.fineartamerica.com/images/rendered/small/poster/images/artworkimages/square/1/forest-abstract-svetlana-sewell.jpg\" data-overlay=\"dark\" data-image-caption-icon=\"http://www.qr-generator.nu/qrcode.svg\" data-image-caption-title=\"Image Title\" data-image-caption-subtitle=\"Image Subtitle\" ></vamtiger-cover-figure> <header> <h1> Article Title </h1> <h2> Article Subtitle </h2> </header> <p> Article Paragraph 1 </p> <p> Article Paragraph 2 </p> <p> Article Paragraph 3 </p> <p> Article Paragraph 4 </p> <p> Article Paragraph 5 </p> <p> Article Paragraph 6 </p> <vamtiger-social-media-button data-twitter data-color=\"#1DA1F2\" ></vamtiger-social-media-button> <vamtiger-social-media-button data-facebook data-color=\"#3C5A99\" ></vamtiger-social-media-button> <vamtiger-social-media-button data-instagram ></vamtiger-social-media-button> </article> </body> </html> <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 477.175 477.175\" style=\"enable-background:new 0 0 477.175 477.175;\" xml:space=\"preserve\" data-back-icon > <g> <path d=\"M145.188,238.575l215.5-215.5c5.3-5.3,5.3-13.8,0-19.1s-13.8-5.3-19.1,0l-225.1,225.1c-5.3,5.3-5.3,13.8,0,19.1l225.1,225 c2.6,2.6,6.1,4,9.5,4s6.9-1.3,9.5-4c5.3-5.3,5.3-13.8,0-19.1L145.188,238.575z\"/> </g> </svg> <!DOCTYPE html> <html lang=\"en\"> <head> <meta charset=\"UTF-8\"> <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"> <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\"> <title>vamtiger-article</title> <link rel=\"stylesheet\" href=\"https://unpkg.com/mocha/mocha.css\"> <link rel=\"stylesheet\" href=\"test.css\"> <link href=\"https://fonts.googleapis.com/css?family=Open+Sans\" rel=\"stylesheet\"> <script src=\"https://unpkg.com/mocha/mocha.js\"></script> <script src=\"https://unpkg.com/chai/chai.js\"></script> <script src=\"https://unpkg.com/vamtiger-browser-support@latest/build/vamtiger-browser-support.js\" src-local=\"http://127.0.0.1:9999/build/vamtiger-browser-support.js\" data-es2015-support-primary data-element-query-support data-web-component-support data-fetch-support data-load=\"test/browser.js\" ></script> </head> <body> <section id=\"mocha\"> <header> <h1> vamtiger-article </h1> </header> </section> <vamtiger-article data-article=\"article.html\" data-paragraphs ></vamtiger-article> </body> </html>`;","import {\n    IGetTemplate,\n    GetTemplate,\n    StringConstant,\n    AttributesKey\n} from './types';\nimport html from './html';\nimport css from './css';\n\nconst { nothing } = StringConstant;\nconst template = document.createElement('template');\nconst stylesheet = `<style data-shadow-style>${css}</style>`\nconst templateHtml = [\n    stylesheet,\n    html\n].join(nothing);\n\ntemplate.innerHTML = templateHtml;\n\nexport default <P extends IGetTemplate>(params: P) => {\n    const {\n        selector,\n        attributes = {},\n        properties = {}\n    } = params;\n    const attributesKeys = Object.keys(attributes) as AttributesKey[]\n    const templateElement = template.content.querySelector(selector);\n    const currentTemplate = templateElement && templateElement.cloneNode(true) as GetTemplate<P>;\n\n    if (currentTemplate) {\n        Object.assign(currentTemplate, properties);\n\n        attributesKeys.forEach(key => attributes[key] && currentTemplate.setAttribute(key, attributes[key] || ''));\n    }\n\n    return currentTemplate;\n};","import {\n    IGetElementTemplate,\n    TagName,\n    ErrorMessage\n} from './types';\n\nconst { div } = TagName;\nconst {\n    noElementName,\n    noTemplate,\n    noElementForSelector\n} = ErrorMessage;\n\nexport default function ({ name, template }: IGetElementTemplate) {\n    const container = name && template && document.createElement(div);\n\n    let element: HTMLElement | null = null;\n\n    if (!name) {\n        throw new Error(noElementName);\n    } else if (!template) {\n        throw new Error(noTemplate);\n    }\n\n    if (container) {\n        container.innerHTML = template;\n\n        element = container.firstElementChild as HTMLElement;\n    }\n\n    if (!element) {\n        throw new Error(noElementForSelector);\n    }\n\n    element.dataset.name = name;\n\n    return element;\n}","import {\n    IGetElementUrl,\n    TagName,\n    ErrorMessage\n} from './types';\n\nconst { div } = TagName;\nconst {\n    noElementName,\n    noElementSelector,\n    noTemplateUrl,\n    noTemplateForUrl,\n    noElementForSelector\n} = ErrorMessage;\n\nexport default async function ({ name, url, selector }: IGetElementUrl) {\n    const template = name && selector && url && await fetch(url)\n        .then(response => response.text());\n    const container = template && document.createElement(div);\n\n    let element: HTMLElement | null = null;\n\n    if (!name) {\n        throw new Error(noElementName);\n    } else if (!selector) {\n        throw new Error(noElementSelector);\n    } else if (!url) {\n        throw new Error(noTemplateUrl);\n    } else if (!template) {\n        throw new Error(noTemplateForUrl);\n    }\n\n    if (container) {\n        container.innerHTML = template;\n\n        element = container.querySelector<HTMLElement>(selector);\n    }\n\n    if (!element) {\n        throw new Error(noElementForSelector);\n    }\n\n    element.setAttribute('dataset-name', name);\n\n    return element;\n}\n","import {\n    GetElementParams,\n    IGetElementTemplate,\n    IGetElementUrl\n} from './types';\nimport getElementFromTemplate from './get-element-from-template';\nimport getElementFromUrl from './get-element-from-url';\n\nexport default async function<P extends GetElementParams>(params: P) {\n    if ((params as IGetElementUrl).url) {\n        return await getElementFromUrl(params as IGetElementUrl);\n    } else {\n        return getElementFromTemplate(params as IGetElementTemplate);\n    }\n}","import {\n    IHandleArticleScroll,\n    CustomProperty,\n    Selector,\n    Visibility\n} from './types';\n\nconst { ceil: roundUp } = Math;\nconst { visible } = Visibility;\n\nexport default async function ({ article }: IHandleArticleScroll) {\n    const { documentElement } = document;\n    const {\n        scrollTop,\n        parentElement: element\n    } = article;\n    const articleContainer = article.querySelector<HTMLElement>(Selector.articleContainer);\n    const coverCaption = element && element.querySelector<HTMLElement>(Selector.coverCaption);\n    const closeBar = element && element.querySelector<HTMLElement>(Selector.closeBar);\n    const {\n        top: articleContainerTop\n    } = articleContainer && articleContainer.getBoundingClientRect() || {} as DOMRect;\n    const {\n        top: coverCaptionTop,\n        bottom: coverCaptionBottom,\n        height: coverCaptionHeight\n    } = coverCaption && coverCaption.getBoundingClientRect() || {} as DOMRect;\n    const {\n        bottom: closeBarBottom,\n        height: closeBarHeight\n    } = closeBar && closeBar.getBoundingClientRect() || {} as DOMRect;\n    const coverCaptionOpacity = !scrollTop  && 1\n        || coverCaptionBottom >= articleContainerTop\n           && coverCaptionTop <= articleContainerTop\n           && ((articleContainerTop - coverCaptionTop)/coverCaptionHeight);\n    const currentCloseBarBottom = Number(documentElement.style.getPropertyValue(CustomProperty.closeBarBottom));\n    const closeBarTranslateY = (roundUp(articleContainerTop) >= currentCloseBarBottom  && (-1 * closeBarHeight)\n        || 0).toString();\n    const scrollOffset = `${scrollTop * -1}`;\n\n    if (coverCaptionOpacity) {\n        documentElement.style.setProperty(CustomProperty.coverCaptionOpacity, coverCaptionOpacity.toFixed(2));\n    }\n\n    if (closeBarTranslateY) {\n        documentElement.style.setProperty(CustomProperty.closeBarVisibility, visible);\n\n        documentElement.style.setProperty(CustomProperty.closeBarTranslateY, closeBarTranslateY.toString());\n    }\n\n    if (scrollOffset) {\n        documentElement.style.setProperty(CustomProperty.scrollOffset, scrollOffset);\n    }\n}","import {\n    ISetupArticle,\n    Selector,\n    CustomProperty,\n    Visibility\n} from './types';\nimport handleClose from './handle-close';\n\nconst closeBarZIndex = 3;\n\nexport default function ({ element }: ISetupArticle) {\n    const { documentElement } = document;\n    const articleContainer = element.querySelector<HTMLElement>(Selector.articleContainer);\n    const closeBar = element && element.querySelector<HTMLElement>(Selector.closeBar);\n    const {\n        top: articleContainerTop\n    } = articleContainer && articleContainer.getBoundingClientRect() || {} as DOMRect;\n    const {\n        bottom: closeBarBottom,\n        height: closeBarHeight\n    } = closeBar && closeBar.getBoundingClientRect() || {} as DOMRect;\n    const closeBarTranslateY = (articleContainerTop > closeBarBottom && (-1 * closeBarHeight)\n        || 0).toString();\n\n    if (closeBarTranslateY) {\n        documentElement.style.setProperty(CustomProperty.closeBarTranslateY, closeBarTranslateY.toString());\n    }\n\n    if (closeBar) {\n        closeBar.addEventListener('click', event => handleClose({ element }));\n    }\n\n    documentElement.style.setProperty(CustomProperty.closeBarZIndex, closeBarZIndex.toString());\n    documentElement.style.setProperty(CustomProperty.closeBarBottom, closeBarBottom.toString());\n}","import getElement from '../node_modules/vamtiger-browser-method/source/get-element';\nimport VamtigerCoverFigure from '../node_modules/vamtiger-cover-figure/source/element';\nimport VamtigerSocialMediaButton from '../node_modules/vamtiger-social-media-button/source/element';\nimport {\n    Selector,\n    SlotName,\n    DataAttribute,\n    StringConstant,\n    ILoadArticle,\n    IDataset,\n    CustomProperty,\n    GridTemplateArea\n} from './types';\nimport getTemplate from './get-template';\nimport { name as slotName } from './element';\nimport handleArticleScroll from './handle-article-scroll';\nimport setupArticle from './setup-article';\n\nconst { nothing, space } = StringConstant;\n\nexport default async function ({ element }: ILoadArticle) {\n    const { documentElement } = document;\n    const dataset = element.dataset as IDataset;\n    const {\n        article: url\n    } = dataset;\n    const articleTemplate = url && await getElement({\n        url,\n        name: url,\n        selector: Selector.article\n    });\n    const article = articleTemplate && getTemplate({\n        selector: Selector.article,\n        attributes: {\n            slot: slotName\n        }\n    });\n    const articleContainer = articleTemplate && getTemplate({\n        selector: Selector.div\n    });\n    const closeBar = articleTemplate && articleTemplate.querySelector<HTMLElement>(Selector.closeBar);\n    const closeBarBackButtonContainer = closeBar && closeBar.dataset.hasOwnProperty(DataAttribute.backButton) && getTemplate({\n        selector: Selector.div\n    });\n    const closeBarBackButtonIcon = closeBarBackButtonContainer && getTemplate({\n        selector: Selector.backIcon\n    });\n    const closeBarBackButtonCaption = closeBarBackButtonContainer && getTemplate({\n        selector: Selector.backButtonCaption\n    });\n    const closeBarBackButtonContainerElements = [\n        closeBarBackButtonIcon,\n        closeBarBackButtonCaption\n    ];\n    const cover = articleTemplate && articleTemplate.querySelector<VamtigerCoverFigure>(Selector.cover);\n    const hiddenCover = articleTemplate && getTemplate({\n        selector: Selector.div\n    });\n    const title = articleTemplate && articleTemplate.querySelector<HTMLHeadingElement>(Selector.headingTitle);\n    const subtitle = articleTemplate && articleTemplate.querySelector<HTMLHeadingElement>(Selector.headingSubtitle);\n    const heading = title && getTemplate({\n        selector: Selector.header\n    });\n    const paragraphs = articleTemplate && dataset.hasOwnProperty(DataAttribute.paragraphs) && Array.from(articleTemplate.querySelectorAll<HTMLParagraphElement>(Selector.paragraph)) || [];\n    const paragraphSection = paragraphs.length && getTemplate({\n        selector: Selector.section\n    });\n    const socialMediaButtons = articleTemplate && Array.from(articleTemplate.querySelectorAll<VamtigerSocialMediaButton>(Selector.socialMediaButton));\n    const footer = socialMediaButtons && socialMediaButtons.length && getTemplate({\n        selector: Selector.footer\n    });\n    const headingElements = [\n        title,\n        subtitle\n    ];\n    const articleElements = [\n        hiddenCover,\n        articleContainer\n    ];\n    const articleContainerElements = [\n        heading,\n        paragraphSection,\n        footer\n    ];\n    const elements = [\n        closeBar,\n        cover,\n        article\n    ];\n\n    if (closeBar) {\n        if (closeBarBackButtonContainer) {\n            closeBarBackButtonContainer.dataset[DataAttribute.backButtonContainer] = nothing;\n\n            closeBarBackButtonContainerElements.forEach(currentElement => currentElement && closeBarBackButtonContainer.appendChild(currentElement));\n\n            closeBarBackButtonContainer.children.length && closeBar.appendChild(closeBarBackButtonContainer);\n        }\n\n        closeBar.slot = SlotName.closeBar;\n    }\n\n    if (cover) {\n        cover.slot = SlotName.cover;\n    }\n\n    if (hiddenCover) {\n        hiddenCover.dataset[DataAttribute.hiddenCover] = nothing;\n    }\n\n    if (articleContainer) {\n        articleContainer.dataset[DataAttribute.articleContainer] = nothing;\n    }\n\n    if (heading) {\n        heading.dataset[DataAttribute.heading] = nothing;\n    }\n\n    if (paragraphSection) {\n        paragraphSection.dataset[DataAttribute.paragraphs] = nothing;\n\n        paragraphs.forEach(paragraph => paragraphSection.appendChild(paragraph));\n    }\n\n    if (footer && socialMediaButtons) {\n        footer.dataset.socialMedia = nothing;\n\n        socialMediaButtons.forEach(socialMediaButton => socialMediaButton && footer.appendChild(socialMediaButton));\n    }\n\n    headingElements.forEach(headingElement => headingElement && heading && heading.appendChild(headingElement));\n\n    articleContainer && articleContainerElements.forEach(articleContainerElement => articleContainerElement && articleContainer.appendChild(articleContainerElement));\n\n    socialMediaButtons && socialMediaButtons.forEach(socialMediaButton => socialMediaButton.slot = SlotName.socialMediaButton);\n\n    if (article) {\n        article.addEventListener('scroll', event => handleArticleScroll({ article }));\n\n        articleElements.forEach(articleElement => articleElement && article.appendChild(articleElement));\n    }\n\n    elements.forEach(currentElement => currentElement && element.appendChild(currentElement as HTMLElement));\n\n    setupArticle({ element });\n}","import {\n    IHandleClose\n} from './types';\n\nexport default function ({ element }: IHandleClose) {\n    const { parentElement: parent } = element;\n\n    if (parent) {\n        parent.removeChild(element);\n    }\n}","import loadScript from '../node_modules/vamtiger-browser-method/source/load-script';\nimport {\n    Selector,\n    ObservedAttribute,\n    SlotName\n} from './types';\nimport {\n    shadowRoot as shadowRootConfig,\n    observedAttributes\n} from './config';\nimport css from './css/document-index';\nimport getTemplate from './get-template';\nimport loadArticle from './load-article';\nimport loadCustomPropertyStyle from './load-custom-property-style';\n\nexport const name = 'vamtiger-article';\n\nloadScript({ name, css })\n    .then(loadCustomPropertyStyle)\n    .catch(console.error);\n\nexport default class VamtigerArticle extends HTMLElement {\n    constructor() {\n        super();\n\n        const shadowRoot = this.attachShadow(shadowRootConfig);\n        const stylesheet = getTemplate({\n            selector: Selector.shadowStyle\n        });\n        const slot = getTemplate({\n            selector: Selector.slot,\n            properties: {\n                name\n            }\n        });\n        const coverSlot = getTemplate({\n            selector: Selector.slot,\n            properties: {\n                name: SlotName.cover\n            }\n        });\n        const closeBarSlot = getTemplate({\n            selector: Selector.slot,\n            properties: {\n                name: SlotName.closeBar\n            }\n        });\n        const elements = [\n            stylesheet,\n            closeBarSlot,\n            coverSlot,\n            slot\n        ];\n\n        elements.forEach(element => element && shadowRoot.appendChild(element));\n    }\n\n    static get observedAttributes() {\n        return observedAttributes;\n    }\n\n    async connectedCallback() {\n        const element = this;\n\n        await loadArticle({ element });\n    }\n\n    async disconnectedCallback() {\n\n    }\n\n    attributeChangedCallback(name: ObservedAttribute, oldValue: string, newValue: string) {\n\n    }\n}","import loadScript from '../node_modules/vamtiger-browser-method/source/load-script';\nimport {\n    Selector\n} from './types';\nimport getTemplate from './get-template';\nimport { name as namePrefix } from './element';\n\nexport default async function () {\n    const customPropertyStyle = getTemplate({\n        selector: Selector.customPropertyStyle\n    });\n    const name = `${namePrefix}-custom-property-style`\n    const css = customPropertyStyle && customPropertyStyle.innerHTML;\n\n    name && css && await loadScript({ name, css });\n}","import defineCustomElement from '../node_modules/vamtiger-browser-method/source/define-custom-element';\nimport VamtigerCoverFigure, { name as VamtigerCoverFigureName } from '../node_modules/vamtiger-cover-figure/source/element';\nimport VamtigerSocialMediaButton, { name as VamtigerSocialMediaButtonName } from '../node_modules/vamtiger-social-media-button/source/element';\nimport VamtigerSocialMediaIcon, { name as VamtigerSocialMediaIconName} from '../node_modules/vamtiger-social-media-icon/source/element';\nimport constructor, { name } from './element';\n\nconst params = [\n    {\n        name: VamtigerCoverFigureName,\n        constructor: VamtigerCoverFigure\n    },\n    {\n        name: VamtigerSocialMediaIconName,\n        constructor: VamtigerSocialMediaIcon\n    },\n    {\n        name: VamtigerSocialMediaButtonName,\n        constructor: VamtigerSocialMediaButton\n    },\n    {\n        name,\n        constructor\n    }\n];\n\nparams.forEach(currentParams => defineCustomElement(currentParams));","import {\n    IDataset,\n    ILoadIcon,\n    Selector,\n    IconFigure\n} from './types';\nimport getTemplate from './get-template';\nimport { name as slot } from './element';\n\nexport default async function ({ element }: ILoadIcon) {\n    const dataset = element.dataset as IDataset;\n    const {\n        color\n    } = dataset;\n    const selector = dataset.hasOwnProperty(IconFigure.facebook) && Selector.facebook\n        || dataset.hasOwnProperty(IconFigure.twitter) && Selector.twitter\n        || dataset.hasOwnProperty(IconFigure.instagram) && Selector.instagram;\n    const pathSelector = selector && `${selector} ${Selector.iconPath}`;\n    const icon = selector && getTemplate({\n        selector\n    });\n    const iconPath = icon && pathSelector && icon.querySelector<SVGPathElement>(pathSelector);\n\n    if (iconPath && color) {\n        iconPath.style.fill = color;\n    }\n\n    if (icon && iconPath) {\n        icon.slot = slot;\n\n        element.appendChild(icon);\n    }\n}","import {\n    ILoadIcon,\n    IDataset,\n    SocialMediaIcon,\n    Selector\n} from './types';\nimport getTemplate from './get-template';\nimport { name as slotName } from './element';\n\nexport default async function ({ element }: ILoadIcon) {\n    const dataset = element.dataset as IDataset;\n    const {\n        color\n    } = dataset;\n    const socialMediaIconSelector = dataset.hasOwnProperty(SocialMediaIcon.twitter) && Selector.twitterIcon\n        || dataset.hasOwnProperty(SocialMediaIcon.facebook) && Selector.facebookIcon\n        || dataset.hasOwnProperty(SocialMediaIcon.instagram) && Selector.instagramIcon;\n    const socialMediaIcon = socialMediaIconSelector && getTemplate({\n        selector: socialMediaIconSelector,\n        attributes: {\n            slot: slotName\n        }\n    });\n\n    if (socialMediaIcon && color) {\n        socialMediaIcon.dataset.color = color;\n    }\n\n    socialMediaIcon && element.appendChild(socialMediaIcon)\n}"],"names":["ScriptType","ScriptAttribute","DataAttribute","ErrorMessage","StringConstant","TagName","LinkRel","LoadScriptElement","Selector","MetaElementName","regex","showRootHost","dash","RegExp","space","nonWord","unsupportedFeature","customElementAreadyDefined","nothing","input","split","map","word","index","toLowerCase","slice","toUpperCase","join","css","stylesheetName","currentStylesheetName","hostName","metaElement","selector","properties","dataset","attributes","id","head","document","lastMetaElement","querySelector","attributeKeys","Object","keys","existingMetaElement","window","newMetaElment","createElement","assign","nextElementSibling","insertBefore","appendChild","forEach","key","hasAttribute","setAttribute","dataKey","getMetaElment","loadElementQueryCss","getCamelCase","elementQueryCss","hasOwnProperty","replace","EQCSS","register","parse","failedToLoadScript","stylesheet","script","scriptElement","link","style","SlotName","ObservedAttributes","imageCaptionAttribute","imageCaptionIcon","imageCaptionTitle","imageCaptionSubtitle","shadowRoot","mode","observedAttributes","template","templateHtml","innerHTML","params","attributesKeys","templateElement","content","currentTemplate","cloneNode","handleLoadedImage","currentTarget","element","currentElement","image","closest","name","removeEventListener","loaded","Promise","resolve","reject","body","js","scriptName","jsonld","removeFromDom","src","href","remoteScript","existingScript","handleLoad","removeEventListeners","removeChild","handleLoadError","event","console","error","Error","HTMLScriptElement","type","HTMLLinkElement","rel","HTMLStyleElement","addEventListener","loadScript","catch","SocialMediaIcon","html","facebookSvgPath","twitterSvgPath","comma","data-color","newValue","fill","path","IconFigure","CustomProperty","GridTemplateArea","Caption","Visibility","div","noElementName","noTemplate","noElementForSelector","noElementSelector","noTemplateUrl","noTemplateForUrl","async","url","fetch","then","response","text","container","getElementFromUrl","firstElementChild","getElementFromTemplate","ceil","roundUp","Math","visible","closeBarZIndex","article","articleTemplate","getElement","getTemplate","slot","slotName","articleContainer","closeBar","closeBarBackButtonContainer","backButton","closeBarBackButtonContainerElements","backIcon","backButtonCaption","cover","hiddenCover","title","headingTitle","subtitle","headingSubtitle","heading","header","paragraphs","Array","from","querySelectorAll","paragraph","paragraphSection","length","section","socialMediaButtons","socialMediaButton","footer","headingElements","articleElements","articleContainerElements","elements","backButtonContainer","children","socialMedia","headingElement","articleContainerElement","documentElement","scrollTop","parentElement","coverCaption","top","articleContainerTop","getBoundingClientRect","coverCaptionTop","bottom","coverCaptionBottom","height","coverCaptionHeight","closeBarBottom","closeBarHeight","coverCaptionOpacity","currentCloseBarBottom","Number","getPropertyValue","closeBarTranslateY","toString","scrollOffset","setProperty","toFixed","closeBarVisibility","handleArticleScroll","articleElement","parent","handleClose","setupArticle","customPropertyStyle","namePrefix","VamtigerCoverFigureName","constructor","HTMLElement","[object Object]","super","this","overlay","overlaySlotNamePrefix","attachShadow","shadowRootConfig","caption","centerCaption","description","overlayPrefix","alt","imageFigure","figure","overlays","handleLoaded","loadImage","currentCenterCaption","getCaption","some","attribute","getCenterCaption","imageCaption","icon","captions","captionImage","loadImageCaption","oldValue","VamtigerSocialMediaIconName","color","facebook","twitter","instagram","pathSelector","iconPath","loadIcon","VamtigerSocialMediaButtonName","socialMediaIconSelector","twitterIcon","facebookIcon","instagramIcon","socialMediaIcon","handleAttributeChange","shadowStyle","coverSlot","loadArticle","currentParams","defineCustomElement","ignore","customElements","define","existingElement","get"],"mappings":"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"}